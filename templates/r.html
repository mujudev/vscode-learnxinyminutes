<h1>R</h1>
<p>R is a statistical computing language. It has lots of libraries for uploading and cleaning data sets, running statistical procedures, and making graphs. You can also run <code class="notranslate">R</code> commands within a LaTeX document.</p>
<div class="highlight highlight-source-r"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Comments start with hash signs, also known as number symbols (#).</span>

<span class="pl-c"><span class="pl-c">#</span> You can't make multi-line comments,</span>
<span class="pl-c"><span class="pl-c">#</span> but you can stack multiple comments like so.</span>

<span class="pl-c"><span class="pl-c">#</span> in Windows you can use CTRL-ENTER to execute a line.</span>
<span class="pl-c"><span class="pl-c">#</span> on Mac it is COMMAND-ENTER</span>



<span class="pl-c"><span class="pl-c">#</span>############################################################################</span>
<span class="pl-c"><span class="pl-c">#</span> Stuff you can do without understanding anything about programming</span>
<span class="pl-c"><span class="pl-c">#</span>############################################################################</span>

<span class="pl-c"><span class="pl-c">#</span> In this section, we show off some of the cool stuff you can do in</span>
<span class="pl-c"><span class="pl-c">#</span> R without understanding anything about programming. Do not worry</span>
<span class="pl-c"><span class="pl-c">#</span> about understanding everything the code does. Just enjoy!</span>

data()          <span class="pl-c"><span class="pl-c">#</span> browse pre-loaded data sets</span>
data(<span class="pl-smi">rivers</span>)    <span class="pl-c"><span class="pl-c">#</span> get this one: "Lengths of Major North American Rivers"</span>
ls()            <span class="pl-c"><span class="pl-c">#</span> notice that "rivers" now appears in the workspace</span>
head(<span class="pl-smi">rivers</span>)    <span class="pl-c"><span class="pl-c">#</span> peek at the data set</span>
<span class="pl-c"><span class="pl-c">#</span> 735 320 325 392 524 450</span>

length(<span class="pl-smi">rivers</span>)  <span class="pl-c"><span class="pl-c">#</span> how many rivers were measured?</span>
<span class="pl-c"><span class="pl-c">#</span> 141</span>
summary(<span class="pl-smi">rivers</span>) <span class="pl-c"><span class="pl-c">#</span> what are some summary statistics?</span>
<span class="pl-c"><span class="pl-c">#</span>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="pl-c"><span class="pl-c">#</span>  135.0   310.0   425.0   591.2   680.0  3710.0</span>

<span class="pl-c"><span class="pl-c">#</span> make a stem-and-leaf plot (a histogram-like data visualization)</span>
stem(<span class="pl-smi">rivers</span>)

<span class="pl-c"><span class="pl-c">#</span>  The decimal point is 2 digit(s) to the right of the |</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>   0 | 4</span>
<span class="pl-c"><span class="pl-c">#</span>   2 | 011223334555566667778888899900001111223333344455555666688888999</span>
<span class="pl-c"><span class="pl-c">#</span>   4 | 111222333445566779001233344567</span>
<span class="pl-c"><span class="pl-c">#</span>   6 | 000112233578012234468</span>
<span class="pl-c"><span class="pl-c">#</span>   8 | 045790018</span>
<span class="pl-c"><span class="pl-c">#</span>  10 | 04507</span>
<span class="pl-c"><span class="pl-c">#</span>  12 | 1471</span>
<span class="pl-c"><span class="pl-c">#</span>  14 | 56</span>
<span class="pl-c"><span class="pl-c">#</span>  16 | 7</span>
<span class="pl-c"><span class="pl-c">#</span>  18 | 9</span>
<span class="pl-c"><span class="pl-c">#</span>  20 |</span>
<span class="pl-c"><span class="pl-c">#</span>  22 | 25</span>
<span class="pl-c"><span class="pl-c">#</span>  24 | 3</span>
<span class="pl-c"><span class="pl-c">#</span>  26 |</span>
<span class="pl-c"><span class="pl-c">#</span>  28 |</span>
<span class="pl-c"><span class="pl-c">#</span>  30 |</span>
<span class="pl-c"><span class="pl-c">#</span>  32 |</span>
<span class="pl-c"><span class="pl-c">#</span>  34 |</span>
<span class="pl-c"><span class="pl-c">#</span>  36 | 1</span>

stem(log(<span class="pl-smi">rivers</span>)) <span class="pl-c"><span class="pl-c">#</span> Notice that the data are neither normal nor log-normal!</span>
<span class="pl-c"><span class="pl-c">#</span> Take that, Bell curve fundamentalists.</span>

<span class="pl-c"><span class="pl-c">#</span>  The decimal point is 1 digit(s) to the left of the |</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>  48 | 1</span>
<span class="pl-c"><span class="pl-c">#</span>  50 |</span>
<span class="pl-c"><span class="pl-c">#</span>  52 | 15578</span>
<span class="pl-c"><span class="pl-c">#</span>  54 | 44571222466689</span>
<span class="pl-c"><span class="pl-c">#</span>  56 | 023334677000124455789</span>
<span class="pl-c"><span class="pl-c">#</span>  58 | 00122366666999933445777</span>
<span class="pl-c"><span class="pl-c">#</span>  60 | 122445567800133459</span>
<span class="pl-c"><span class="pl-c">#</span>  62 | 112666799035</span>
<span class="pl-c"><span class="pl-c">#</span>  64 | 00011334581257889</span>
<span class="pl-c"><span class="pl-c">#</span>  66 | 003683579</span>
<span class="pl-c"><span class="pl-c">#</span>  68 | 0019156</span>
<span class="pl-c"><span class="pl-c">#</span>  70 | 079357</span>
<span class="pl-c"><span class="pl-c">#</span>  72 | 89</span>
<span class="pl-c"><span class="pl-c">#</span>  74 | 84</span>
<span class="pl-c"><span class="pl-c">#</span>  76 | 56</span>
<span class="pl-c"><span class="pl-c">#</span>  78 | 4</span>
<span class="pl-c"><span class="pl-c">#</span>  80 |</span>
<span class="pl-c"><span class="pl-c">#</span>  82 | 2</span>

<span class="pl-c"><span class="pl-c">#</span> make a histogram:</span>
hist(<span class="pl-smi">rivers</span>, <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>#333333<span class="pl-pds">"</span></span>, <span class="pl-v">border</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>, <span class="pl-v">breaks</span> <span class="pl-k">=</span> <span class="pl-c1">25</span>)
hist(log(<span class="pl-smi">rivers</span>), <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>#333333<span class="pl-pds">"</span></span>, <span class="pl-v">border</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>, <span class="pl-v">breaks</span> <span class="pl-k">=</span> <span class="pl-c1">25</span>)
<span class="pl-c"><span class="pl-c">#</span> play around with these parameters, you'll do more plotting later</span>

<span class="pl-c"><span class="pl-c">#</span> Here's another neat data set that comes pre-loaded. R has tons of these.</span>
data(<span class="pl-smi">discoveries</span>)
plot(<span class="pl-smi">discoveries</span>, <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>#333333<span class="pl-pds">"</span></span>, <span class="pl-v">lwd</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>, <span class="pl-v">xlab</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Year<span class="pl-pds">"</span></span>,
     <span class="pl-v">main</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Number of important discoveries per year<span class="pl-pds">"</span></span>)
plot(<span class="pl-smi">discoveries</span>, <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>#333333<span class="pl-pds">"</span></span>, <span class="pl-v">lwd</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>, <span class="pl-v">type</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>h<span class="pl-pds">"</span></span>, <span class="pl-v">xlab</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Year<span class="pl-pds">"</span></span>,
     <span class="pl-v">main</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Number of important discoveries per year<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">#</span> Rather than leaving the default ordering (by year),</span>
<span class="pl-c"><span class="pl-c">#</span> we could also sort to see what's typical:</span>
sort(<span class="pl-smi">discoveries</span>)
<span class="pl-c"><span class="pl-c">#</span>  [1]  0  0  0  0  0  0  0  0  0  1  1  1  1  1  1  1  1  1  1  1  1  2  2  2  2</span>
<span class="pl-c"><span class="pl-c">#</span> [26]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  3  3  3</span>
<span class="pl-c"><span class="pl-c">#</span> [51]  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  4  4  4  4  4  4  4  4</span>
<span class="pl-c"><span class="pl-c">#</span> [76]  4  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  6  7  7  7  7  8  9 10 12</span>

stem(<span class="pl-smi">discoveries</span>, <span class="pl-v">scale</span> <span class="pl-k">=</span> <span class="pl-c1">2</span>)
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>  The decimal point is at the |</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>   0 | 000000000</span>
<span class="pl-c"><span class="pl-c">#</span>   1 | 000000000000</span>
<span class="pl-c"><span class="pl-c">#</span>   2 | 00000000000000000000000000</span>
<span class="pl-c"><span class="pl-c">#</span>   3 | 00000000000000000000</span>
<span class="pl-c"><span class="pl-c">#</span>   4 | 000000000000</span>
<span class="pl-c"><span class="pl-c">#</span>   5 | 0000000</span>
<span class="pl-c"><span class="pl-c">#</span>   6 | 000000</span>
<span class="pl-c"><span class="pl-c">#</span>   7 | 0000</span>
<span class="pl-c"><span class="pl-c">#</span>   8 | 0</span>
<span class="pl-c"><span class="pl-c">#</span>   9 | 0</span>
<span class="pl-c"><span class="pl-c">#</span>  10 | 0</span>
<span class="pl-c"><span class="pl-c">#</span>  11 |</span>
<span class="pl-c"><span class="pl-c">#</span>  12 | 0</span>

max(<span class="pl-smi">discoveries</span>)
<span class="pl-c"><span class="pl-c">#</span> 12</span>
summary(<span class="pl-smi">discoveries</span>)
<span class="pl-c"><span class="pl-c">#</span>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="pl-c"><span class="pl-c">#</span>    0.0     2.0     3.0     3.1     4.0    12.0</span>

<span class="pl-c"><span class="pl-c">#</span> Roll a die a few times</span>
round(runif(<span class="pl-c1">7</span>, <span class="pl-v">min</span> <span class="pl-k">=</span> <span class="pl-smi">.5</span>, <span class="pl-v">max</span> <span class="pl-k">=</span> <span class="pl-c1">6.5</span>))
<span class="pl-c"><span class="pl-c">#</span> 1 4 6 1 4 6 4</span>
<span class="pl-c"><span class="pl-c">#</span> Your numbers will differ from mine unless we set the same random.seed(31337)</span>

<span class="pl-c"><span class="pl-c">#</span> Draw from a standard Gaussian 9 times</span>
rnorm(<span class="pl-c1">9</span>)
<span class="pl-c"><span class="pl-c">#</span> [1]  0.07528471  1.03499859  1.34809556 -0.82356087  0.61638975 -1.88757271</span>
<span class="pl-c"><span class="pl-c">#</span> [7] -0.59975593  0.57629164  1.08455362</span>



<span class="pl-c"><span class="pl-c">#</span>#################################################</span>
<span class="pl-c"><span class="pl-c">#</span> Data types and basic arithmetic</span>
<span class="pl-c"><span class="pl-c">#</span>#################################################</span>

<span class="pl-c"><span class="pl-c">#</span> Now for the programming-oriented part of the tutorial.</span>
<span class="pl-c"><span class="pl-c">#</span> In this section you will meet the important data types of R:</span>
<span class="pl-c"><span class="pl-c">#</span> integers, numerics, characters, logicals, and factors.</span>
<span class="pl-c"><span class="pl-c">#</span> There are others, but these are the bare minimum you need to</span>
<span class="pl-c"><span class="pl-c">#</span> get started.</span>

<span class="pl-c"><span class="pl-c">#</span> INTEGERS</span>
<span class="pl-c"><span class="pl-c">#</span> Long-storage integers are written with L</span>
<span class="pl-c1">5L</span>          <span class="pl-c"><span class="pl-c">#</span> 5</span>
class(<span class="pl-c1">5L</span>)   <span class="pl-c"><span class="pl-c">#</span> "integer"</span>
<span class="pl-c"><span class="pl-c">#</span> (Try ?class for more information on the class() function.)</span>
<span class="pl-c"><span class="pl-c">#</span> In R, every single value, like 5L, is considered a vector of length 1</span>
length(<span class="pl-c1">5L</span>)  <span class="pl-c"><span class="pl-c">#</span> 1</span>
<span class="pl-c"><span class="pl-c">#</span> You can have an integer vector with length &gt; 1 too:</span>
c(<span class="pl-c1">4L</span>, <span class="pl-c1">5L</span>, <span class="pl-c1">8L</span>, <span class="pl-c1">3L</span>)          <span class="pl-c"><span class="pl-c">#</span> 4 5 8 3</span>
length(c(<span class="pl-c1">4L</span>, <span class="pl-c1">5L</span>, <span class="pl-c1">8L</span>, <span class="pl-c1">3L</span>))  <span class="pl-c"><span class="pl-c">#</span> 4</span>
class(c(<span class="pl-c1">4L</span>, <span class="pl-c1">5L</span>, <span class="pl-c1">8L</span>, <span class="pl-c1">3L</span>))   <span class="pl-c"><span class="pl-c">#</span> "integer"</span>

<span class="pl-c"><span class="pl-c">#</span> NUMERICS</span>
<span class="pl-c"><span class="pl-c">#</span> A "numeric" is a double-precision floating-point number</span>
<span class="pl-c1">5</span>           <span class="pl-c"><span class="pl-c">#</span> 5</span>
class(<span class="pl-c1">5</span>)    <span class="pl-c"><span class="pl-c">#</span> "numeric"</span>
<span class="pl-c"><span class="pl-c">#</span> Again, everything in R is a vector;</span>
<span class="pl-c"><span class="pl-c">#</span> you can make a numeric vector with more than one element</span>
c(<span class="pl-c1">3</span>, <span class="pl-c1">3</span>, <span class="pl-c1">3</span>, <span class="pl-c1">2</span>, <span class="pl-c1">2</span>, <span class="pl-c1">1</span>) <span class="pl-c"><span class="pl-c">#</span> 3 3 3 2 2 1</span>
<span class="pl-c"><span class="pl-c">#</span> You can use scientific notation too</span>
<span class="pl-c1">5e4</span>         <span class="pl-c"><span class="pl-c">#</span> 50000</span>
<span class="pl-c1">6.02e23</span>     <span class="pl-c"><span class="pl-c">#</span> Avogadro's number</span>
<span class="pl-c1">1.6e-35</span>     <span class="pl-c"><span class="pl-c">#</span> Planck length</span>
<span class="pl-c"><span class="pl-c">#</span> You can also have infinitely large or small numbers</span>
class(<span class="pl-c1">Inf</span>)  <span class="pl-c"><span class="pl-c">#</span> "numeric"</span>
class(<span class="pl-k">-</span><span class="pl-c1">Inf</span>) <span class="pl-c"><span class="pl-c">#</span> "numeric"</span>
<span class="pl-c"><span class="pl-c">#</span> You might use "Inf", for example, in integrate(dnorm, 3, Inf);</span>
<span class="pl-c"><span class="pl-c">#</span> this obviates Z-score tables.</span>

<span class="pl-c"><span class="pl-c">#</span> BASIC ARITHMETIC</span>
<span class="pl-c"><span class="pl-c">#</span> You can do arithmetic with numbers</span>
<span class="pl-c"><span class="pl-c">#</span> Doing arithmetic on a mix of integers and numerics gives you another numeric</span>
<span class="pl-c1">10L</span> <span class="pl-k">+</span> <span class="pl-c1">66L</span>   <span class="pl-c"><span class="pl-c">#</span> 76    # integer plus integer gives integer</span>
<span class="pl-c1">53.2</span> <span class="pl-k">-</span> <span class="pl-c1">4</span>    <span class="pl-c"><span class="pl-c">#</span> 49.2  # numeric minus numeric gives numeric</span>
<span class="pl-c1">2.0</span> <span class="pl-k">*</span> <span class="pl-c1">2L</span>    <span class="pl-c"><span class="pl-c">#</span> 4     # numeric times integer gives numeric</span>
<span class="pl-c1">3L</span> <span class="pl-k">/</span> <span class="pl-c1">4</span>      <span class="pl-c"><span class="pl-c">#</span> 0.75  # integer over numeric gives numeric</span>
<span class="pl-c1">3</span> <span class="pl-k">%%</span> <span class="pl-c1">2</span>      <span class="pl-c"><span class="pl-c">#</span> 1     # the remainder of two numerics is another numeric</span>
<span class="pl-c"><span class="pl-c">#</span> Illegal arithmetic yields you a "not-a-number":</span>
<span class="pl-c1">0</span> <span class="pl-k">/</span> <span class="pl-c1">0</span>       <span class="pl-c"><span class="pl-c">#</span> NaN</span>
class(<span class="pl-c1">NaN</span>)  <span class="pl-c"><span class="pl-c">#</span> "numeric"</span>
<span class="pl-c"><span class="pl-c">#</span> You can do arithmetic on two vectors with length greater than 1,</span>
<span class="pl-c"><span class="pl-c">#</span> so long as the larger vector's length is an integer multiple of the smaller</span>
c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">+</span> c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>)     <span class="pl-c"><span class="pl-c">#</span> 2 4 6</span>
<span class="pl-c"><span class="pl-c">#</span> Since a single number is a vector of length one, scalars are applied </span>
<span class="pl-c"><span class="pl-c">#</span> elementwise to vectors</span>
(<span class="pl-c1">4</span> <span class="pl-k">*</span> c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">-</span> <span class="pl-c1">2</span>) <span class="pl-k">/</span> <span class="pl-c1">2</span>    <span class="pl-c"><span class="pl-c">#</span> 1 3 5</span>
<span class="pl-c"><span class="pl-c">#</span> Except for scalars, use caution when performing arithmetic on vectors with </span>
<span class="pl-c"><span class="pl-c">#</span> different lengths. Although it can be done, </span>
c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">*</span> c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)               <span class="pl-c"><span class="pl-c">#</span> 1 4 3 2 2 6</span>
<span class="pl-c"><span class="pl-c">#</span> Matching lengths is better practice and easier to read most times</span>
c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">*</span> c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>)   <span class="pl-c"><span class="pl-c">#</span> 1 4 3 2 2 6</span>

<span class="pl-c"><span class="pl-c">#</span> CHARACTERS</span>
<span class="pl-c"><span class="pl-c">#</span> There's no difference between strings and characters in R</span>
<span class="pl-s"><span class="pl-pds">"</span>Horatio<span class="pl-pds">"</span></span>           <span class="pl-c"><span class="pl-c">#</span> "Horatio"</span>
class(<span class="pl-s"><span class="pl-pds">"</span>Horatio<span class="pl-pds">"</span></span>)    <span class="pl-c"><span class="pl-c">#</span> "character"</span>
class(<span class="pl-s"><span class="pl-pds">"</span>H<span class="pl-pds">"</span></span>)          <span class="pl-c"><span class="pl-c">#</span> "character"</span>
<span class="pl-c"><span class="pl-c">#</span> Those were both character vectors of length 1</span>
<span class="pl-c"><span class="pl-c">#</span> Here is a longer one:</span>
c(<span class="pl-s"><span class="pl-pds">"</span>alef<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>gimmel<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>dalet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>he<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt; "alef"   "bet"    "gimmel" "dalet"  "he"</span>
length(c(<span class="pl-s"><span class="pl-pds">"</span>Call<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>me<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>Ishmael<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">#</span> 3</span>
<span class="pl-c"><span class="pl-c">#</span> You can do regex operations on character vectors:</span>
substr(<span class="pl-s"><span class="pl-pds">"</span>Fortuna multis dat nimis, nulli satis.<span class="pl-pds">"</span></span>, <span class="pl-c1">9</span>, <span class="pl-c1">15</span>)  <span class="pl-c"><span class="pl-c">#</span> "multis "</span>
gsub(<span class="pl-s"><span class="pl-pds">'</span>u<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ø<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Fortuna multis dat nimis, nulli satis.<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> "Fortøna møltis dat nimis, nølli satis."</span>
<span class="pl-c"><span class="pl-c">#</span> R has several built-in character vectors:</span>
<span class="pl-c1">letters</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s"</span>
<span class="pl-c"><span class="pl-c">#</span> [20] "t" "u" "v" "w" "x" "y" "z"</span>
<span class="pl-c1">month.abb</span> <span class="pl-c"><span class="pl-c">#</span> "Jan" "Feb" "Mar" "Apr" "May" "Jun" "Jul" "Aug" "Sep" "Oct" "Nov" "Dec"</span>

<span class="pl-c"><span class="pl-c">#</span> LOGICALS</span>
<span class="pl-c"><span class="pl-c">#</span> In R, a "logical" is a boolean</span>
                
class(<span class="pl-c1">TRUE</span>)     <span class="pl-c"><span class="pl-c">#</span> "logical"</span>
class(<span class="pl-c1">FALSE</span>)    <span class="pl-c"><span class="pl-c">#</span> "logical"</span>
<span class="pl-c"><span class="pl-c">#</span> Their behavior is normal</span>
<span class="pl-c1">TRUE</span> <span class="pl-k">==</span> <span class="pl-c1">TRUE</span>    <span class="pl-c"><span class="pl-c">#</span> TRUE</span>
<span class="pl-c1">TRUE</span> <span class="pl-k">==</span> <span class="pl-c1">FALSE</span>   <span class="pl-c"><span class="pl-c">#</span> FALSE</span>
<span class="pl-c1">FALSE</span> <span class="pl-k">!=</span> <span class="pl-c1">FALSE</span>  <span class="pl-c"><span class="pl-c">#</span> FALSE</span>
<span class="pl-c1">FALSE</span> <span class="pl-k">!=</span> <span class="pl-c1">TRUE</span>   <span class="pl-c"><span class="pl-c">#</span> TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> Missing data (NA) is logical, too</span>
class(<span class="pl-c1">NA</span>)       <span class="pl-c"><span class="pl-c">#</span> "logical"</span>
<span class="pl-c"><span class="pl-c">#</span> Use | and &amp; for logic operations.</span>
<span class="pl-c"><span class="pl-c">#</span> OR</span>
<span class="pl-c1">TRUE</span> <span class="pl-k">|</span> <span class="pl-c1">FALSE</span>    <span class="pl-c"><span class="pl-c">#</span> TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> AND</span>
<span class="pl-c1">TRUE</span> <span class="pl-k">&amp;</span> <span class="pl-c1">FALSE</span>    <span class="pl-c"><span class="pl-c">#</span> FALSE</span>
<span class="pl-c"><span class="pl-c">#</span> Applying | and &amp; to vectors returns elementwise logic operations</span>
c(<span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">FALSE</span>) <span class="pl-k">|</span> c(<span class="pl-c1">FALSE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>)   <span class="pl-c"><span class="pl-c">#</span> TRUE TRUE FALSE</span>
c(<span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">TRUE</span>) <span class="pl-k">&amp;</span> c(<span class="pl-c1">FALSE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">TRUE</span>)     <span class="pl-c"><span class="pl-c">#</span> FALSE FALSE TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> You can test if x is TRUE</span>
isTRUE(<span class="pl-c1">TRUE</span>)    <span class="pl-c"><span class="pl-c">#</span> TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> Here we get a logical vector with many elements:</span>
c(<span class="pl-s"><span class="pl-pds">"</span>Z<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>o<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>o<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Zorro<span class="pl-pds">"</span></span>   <span class="pl-c"><span class="pl-c">#</span> FALSE FALSE FALSE FALSE FALSE</span>
c(<span class="pl-s"><span class="pl-pds">"</span>Z<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>o<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>o<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Z<span class="pl-pds">"</span></span>       <span class="pl-c"><span class="pl-c">#</span> TRUE FALSE FALSE FALSE FALSE</span>

<span class="pl-c"><span class="pl-c">#</span> FACTORS</span>
<span class="pl-c"><span class="pl-c">#</span> The factor class is for categorical data</span>
<span class="pl-c"><span class="pl-c">#</span> Factors can be ordered (like grade levels) or unordered (like colors)</span>
<span class="pl-k">factor</span>(c(<span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-c1">NA</span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>))
<span class="pl-c"><span class="pl-c">#</span>  blue blue green   &lt;NA&gt;   blue</span>
<span class="pl-c"><span class="pl-c">#</span> Levels: blue green</span>
<span class="pl-c"><span class="pl-c">#</span> The "levels" are the values the categorical data can take</span>
<span class="pl-c"><span class="pl-c">#</span> Note that missing data does not enter the levels</span>
levels(<span class="pl-k">factor</span>(c(<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>, <span class="pl-c1">NA</span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>))) <span class="pl-c"><span class="pl-c">#</span> "blue" "green"</span>
<span class="pl-c"><span class="pl-c">#</span> If a factor vector has length 1, its levels will have length 1, too</span>
length(<span class="pl-k">factor</span>(<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>))         <span class="pl-c"><span class="pl-c">#</span> 1</span>
length(levels(<span class="pl-k">factor</span>(<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>))) <span class="pl-c"><span class="pl-c">#</span> 1</span>
<span class="pl-c"><span class="pl-c">#</span> Factors are commonly seen in data frames, a data structure we will cover later</span>
data(<span class="pl-smi">infert</span>)             <span class="pl-c"><span class="pl-c">#</span> "Infertility after Spontaneous and Induced Abortion"</span>
levels(<span class="pl-smi">infert</span><span class="pl-k">$</span><span class="pl-smi">education</span>) <span class="pl-c"><span class="pl-c">#</span> "0-5yrs"  "6-11yrs" "12+ yrs"</span>

<span class="pl-c"><span class="pl-c">#</span> NULL</span>
<span class="pl-c"><span class="pl-c">#</span> "NULL" is a weird one; use it to "blank out" a vector</span>
class(<span class="pl-c1">NULL</span>) <span class="pl-c"><span class="pl-c">#</span> NULL</span>
<span class="pl-v">parakeet</span> <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>beak<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>feathers<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wings<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>eyes<span class="pl-pds">"</span></span>)
<span class="pl-smi">parakeet</span> <span class="pl-c"><span class="pl-c">#</span> "beak"     "feathers" "wings"    "eyes"</span>
<span class="pl-smi">parakeet</span> <span class="pl-k">&lt;-</span> <span class="pl-c1">NULL</span>
<span class="pl-smi">parakeet</span> <span class="pl-c"><span class="pl-c">#</span> NULL</span>

<span class="pl-c"><span class="pl-c">#</span> TYPE COERCION</span>
<span class="pl-c"><span class="pl-c">#</span> Type-coercion is when you force a value to take on a different type</span>
as.character(c(<span class="pl-c1">6</span>, <span class="pl-c1">8</span>))   <span class="pl-c"><span class="pl-c">#</span> "6" "8"</span>
as.logical(c(<span class="pl-c1">1</span>,<span class="pl-c1">0</span>,<span class="pl-c1">1</span>,<span class="pl-c1">1</span>))  <span class="pl-c"><span class="pl-c">#</span> TRUE FALSE  TRUE  TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> If you put elements of different types into a vector, weird coercions happen:</span>
c(<span class="pl-c1">TRUE</span>, <span class="pl-c1">4</span>)          <span class="pl-c"><span class="pl-c">#</span> 1 4</span>
c(<span class="pl-s"><span class="pl-pds">"</span>dog<span class="pl-pds">"</span></span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">4</span>)   <span class="pl-c"><span class="pl-c">#</span> "dog"  "TRUE" "4"</span>
as.numeric(<span class="pl-s"><span class="pl-pds">"</span>Bilbo<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> [1] NA</span>
<span class="pl-c"><span class="pl-c">#</span> Warning message:</span>
<span class="pl-c"><span class="pl-c">#</span> NAs introduced by coercion</span>

<span class="pl-c"><span class="pl-c">#</span> Also note: those were just the basic data types</span>
<span class="pl-c"><span class="pl-c">#</span> There are many more data types, such as for dates, time series, etc.</span>



<span class="pl-c"><span class="pl-c">#</span>#################################################</span>
<span class="pl-c"><span class="pl-c">#</span> Variables, loops, if/else</span>
<span class="pl-c"><span class="pl-c">#</span>#################################################</span>

<span class="pl-c"><span class="pl-c">#</span> A variable is like a box you store a value in for later use.</span>
<span class="pl-c"><span class="pl-c">#</span> We call this "assigning" the value to the variable.</span>
<span class="pl-c"><span class="pl-c">#</span> Having variables lets us write loops, functions, and if/else statements</span>

<span class="pl-c"><span class="pl-c">#</span> VARIABLES</span>
<span class="pl-c"><span class="pl-c">#</span> Lots of way to assign stuff:</span>
<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>       <span class="pl-c"><span class="pl-c">#</span> this is possible</span>
<span class="pl-smi">y</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>    <span class="pl-c"><span class="pl-c">#</span> this is preferred traditionally</span>
<span class="pl-c1">TRUE</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-smi">z</span>   <span class="pl-c"><span class="pl-c">#</span> this works but is weird</span>
<span class="pl-c"><span class="pl-c">#</span> Refer to the Internet for the behaviors and preferences about them.</span>

<span class="pl-c"><span class="pl-c">#</span> LOOPS</span>
<span class="pl-c"><span class="pl-c">#</span> We've got for loops</span>
<span class="pl-k">for</span> (<span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">4</span>) {
	print(<span class="pl-smi">i</span>)
}
<span class="pl-c"><span class="pl-c">#</span> We've got while loops</span>
<span class="pl-smi">a</span> <span class="pl-k">&lt;-</span> <span class="pl-c1">10</span>
<span class="pl-k">while</span> (<span class="pl-smi">a</span> <span class="pl-k">&gt;</span> <span class="pl-c1">4</span>) {
	cat(<span class="pl-smi">a</span>, <span class="pl-s"><span class="pl-pds">"</span>...<span class="pl-pds">"</span></span>, <span class="pl-v">sep</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
	<span class="pl-smi">a</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">a</span> <span class="pl-k">-</span> <span class="pl-c1">1</span>
}
<span class="pl-c"><span class="pl-c">#</span> Keep in mind that for and while loops run slowly in R</span>
<span class="pl-c"><span class="pl-c">#</span> Operations on entire vectors (i.e. a whole row, a whole column)</span>
<span class="pl-c"><span class="pl-c">#</span> or apply()-type functions (we'll discuss later) are preferred</span>

<span class="pl-c"><span class="pl-c">#</span> IF/ELSE</span>
<span class="pl-c"><span class="pl-c">#</span> Again, pretty standard</span>
<span class="pl-k">if</span> (<span class="pl-c1">4</span> <span class="pl-k">&gt;</span> <span class="pl-c1">3</span>) {
	print(<span class="pl-s"><span class="pl-pds">"</span>4 is greater than 3<span class="pl-pds">"</span></span>)
} <span class="pl-k">else</span> {
	print(<span class="pl-s"><span class="pl-pds">"</span>4 is not greater than 3<span class="pl-pds">"</span></span>)
}
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> [1] "4 is greater than 3"</span>

<span class="pl-c"><span class="pl-c">#</span> FUNCTIONS</span>
<span class="pl-c"><span class="pl-c">#</span> Defined like so:</span>
<span class="pl-en">jiggle</span> <span class="pl-k">&lt;-</span> <span class="pl-k">function</span>(<span class="pl-smi">x</span>) {
	<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">x</span> <span class="pl-k">+</span> rnorm(<span class="pl-c1">1</span>, <span class="pl-v">sd</span><span class="pl-k">=</span><span class="pl-smi">.1</span>) <span class="pl-c"><span class="pl-c">#</span> add in a bit of (controlled) noise</span>
	<span class="pl-k">return</span>(<span class="pl-smi">x</span>)
}
<span class="pl-c"><span class="pl-c">#</span> Called like any other R function:</span>
jiggle(<span class="pl-c1">5</span>)   <span class="pl-c"><span class="pl-c">#</span> 5±ε. After set.seed(2716057), jiggle(5)==5.005043</span>



<span class="pl-c"><span class="pl-c">#</span>##########################################################################</span>
<span class="pl-c"><span class="pl-c">#</span> Data structures: Vectors, matrices, data frames, and arrays</span>
<span class="pl-c"><span class="pl-c">#</span>##########################################################################</span>

<span class="pl-c"><span class="pl-c">#</span> ONE-DIMENSIONAL</span>

<span class="pl-c"><span class="pl-c">#</span> Let's start from the very beginning, and with something you already know: vectors.</span>
<span class="pl-smi">vec</span> <span class="pl-k">&lt;-</span> c(<span class="pl-c1">8</span>, <span class="pl-c1">9</span>, <span class="pl-c1">10</span>, <span class="pl-c1">11</span>)
<span class="pl-smi">vec</span>     <span class="pl-c"><span class="pl-c">#</span>  8  9 10 11</span>
<span class="pl-c"><span class="pl-c">#</span> We ask for specific elements by subsetting with square brackets</span>
<span class="pl-c"><span class="pl-c">#</span> (Note that R starts counting from 1)</span>
<span class="pl-smi">vec</span>[<span class="pl-c1">1</span>]          <span class="pl-c"><span class="pl-c">#</span> 8</span>
<span class="pl-c1">letters</span>[<span class="pl-c1">18</span>]     <span class="pl-c"><span class="pl-c">#</span> "r"</span>
<span class="pl-c1">LETTERS</span>[<span class="pl-c1">13</span>]     <span class="pl-c"><span class="pl-c">#</span> "M"</span>
<span class="pl-c1">month.name</span>[<span class="pl-c1">9</span>]   <span class="pl-c"><span class="pl-c">#</span> "September"</span>
c(<span class="pl-c1">6</span>, <span class="pl-c1">8</span>, <span class="pl-c1">7</span>, <span class="pl-c1">5</span>, <span class="pl-c1">3</span>, <span class="pl-c1">0</span>, <span class="pl-c1">9</span>)[<span class="pl-c1">3</span>] <span class="pl-c"><span class="pl-c">#</span> 7</span>
<span class="pl-c"><span class="pl-c">#</span> We can also search for the indices of specific components,</span>
which(<span class="pl-smi">vec</span> <span class="pl-k">%%</span> <span class="pl-c1">2</span> <span class="pl-k">==</span> <span class="pl-c1">0</span>) <span class="pl-c"><span class="pl-c">#</span> 1 3</span>
<span class="pl-c"><span class="pl-c">#</span> grab just the first or last few entries in the vector,</span>
head(<span class="pl-smi">vec</span>, <span class="pl-c1">1</span>)    <span class="pl-c"><span class="pl-c">#</span> 8</span>
tail(<span class="pl-smi">vec</span>, <span class="pl-c1">2</span>)    <span class="pl-c"><span class="pl-c">#</span> 10 11</span>
<span class="pl-c"><span class="pl-c">#</span> or figure out if a certain value is in the vector</span>
any(<span class="pl-smi">vec</span> <span class="pl-k">==</span> <span class="pl-c1">10</span>)  <span class="pl-c"><span class="pl-c">#</span> TRUE</span>
<span class="pl-c"><span class="pl-c">#</span> If an index "goes over" you'll get NA:</span>
<span class="pl-smi">vec</span>[<span class="pl-c1">6</span>]      <span class="pl-c"><span class="pl-c">#</span> NA</span>
<span class="pl-c"><span class="pl-c">#</span> You can find the length of your vector with length()</span>
length(<span class="pl-smi">vec</span>) <span class="pl-c"><span class="pl-c">#</span> 4</span>
<span class="pl-c"><span class="pl-c">#</span> You can perform operations on entire vectors or subsets of vectors</span>
<span class="pl-smi">vec</span> <span class="pl-k">*</span> <span class="pl-c1">4</span>             <span class="pl-c"><span class="pl-c">#</span> 32 36 40 44</span>
<span class="pl-smi">vec</span>[<span class="pl-c1">2</span><span class="pl-k">:</span><span class="pl-c1">3</span>] <span class="pl-k">*</span> <span class="pl-c1">5</span>        <span class="pl-c"><span class="pl-c">#</span> 45 50</span>
any(<span class="pl-smi">vec</span>[<span class="pl-c1">2</span><span class="pl-k">:</span><span class="pl-c1">3</span>] <span class="pl-k">==</span> <span class="pl-c1">8</span>)  <span class="pl-c"><span class="pl-c">#</span> FALSE</span>
<span class="pl-c"><span class="pl-c">#</span> and R has many built-in functions to summarize vectors</span>
mean(<span class="pl-smi">vec</span>)   <span class="pl-c"><span class="pl-c">#</span> 9.5</span>
var(<span class="pl-smi">vec</span>)    <span class="pl-c"><span class="pl-c">#</span> 1.666667</span>
sd(<span class="pl-smi">vec</span>)     <span class="pl-c"><span class="pl-c">#</span> 1.290994</span>
max(<span class="pl-smi">vec</span>)    <span class="pl-c"><span class="pl-c">#</span> 11</span>
min(<span class="pl-smi">vec</span>)    <span class="pl-c"><span class="pl-c">#</span> 8</span>
sum(<span class="pl-smi">vec</span>)    <span class="pl-c"><span class="pl-c">#</span> 38</span>
<span class="pl-c"><span class="pl-c">#</span> Some more nice built-ins:</span>
<span class="pl-c1">5</span><span class="pl-k">:</span><span class="pl-c1">15</span>        <span class="pl-c"><span class="pl-c">#</span> 5  6  7  8  9 10 11 12 13 14 15</span>
seq(<span class="pl-v">from</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>, <span class="pl-v">to</span> <span class="pl-k">=</span> <span class="pl-c1">31337</span>, <span class="pl-v">by</span> <span class="pl-k">=</span> <span class="pl-c1">1337</span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>  [1]     0  1337  2674  4011  5348  6685  8022  9359 10696 12033 13370 14707</span>
<span class="pl-c"><span class="pl-c">#</span> [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751</span>

<span class="pl-c"><span class="pl-c">#</span> TWO-DIMENSIONAL (ALL ONE CLASS)</span>

<span class="pl-c"><span class="pl-c">#</span> You can make a matrix out of entries all of the same type like so:</span>
<span class="pl-smi">mat</span> <span class="pl-k">&lt;-</span> <span class="pl-k">matrix</span>(<span class="pl-v">nrow</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>, <span class="pl-v">ncol</span> <span class="pl-k">=</span> <span class="pl-c1">2</span>, c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>, <span class="pl-c1">4</span>, <span class="pl-c1">5</span>, <span class="pl-c1">6</span>))
<span class="pl-smi">mat</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    1    4</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    2    5</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]    3    6</span>
<span class="pl-c"><span class="pl-c">#</span> Unlike a vector, the class of a matrix is "matrix", no matter what's in it</span>
class(<span class="pl-smi">mat</span>)      <span class="pl-c"><span class="pl-c">#</span> "matrix" "array"</span>
<span class="pl-c"><span class="pl-c">#</span> Ask for the first row</span>
<span class="pl-smi">mat</span>[<span class="pl-c1">1</span>, ]        <span class="pl-c"><span class="pl-c">#</span> 1 4</span>
<span class="pl-c"><span class="pl-c">#</span> Perform operation on the first column</span>
<span class="pl-c1">3</span> <span class="pl-k">*</span> <span class="pl-smi">mat</span>[, <span class="pl-c1">1</span>]    <span class="pl-c"><span class="pl-c">#</span> 3 6 9</span>
<span class="pl-c"><span class="pl-c">#</span> Ask for a specific cell</span>
<span class="pl-smi">mat</span>[<span class="pl-c1">3</span>, <span class="pl-c1">2</span>]       <span class="pl-c"><span class="pl-c">#</span> 6</span>

<span class="pl-c"><span class="pl-c">#</span> Transpose the whole matrix</span>
t(<span class="pl-smi">mat</span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2] [,3]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    1    2    3</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    4    5    6</span>

<span class="pl-c"><span class="pl-c">#</span> Matrix multiplication</span>
<span class="pl-smi">mat</span> <span class="pl-k">%*%</span> t(<span class="pl-smi">mat</span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2] [,3]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]   17   22   27</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]   22   29   36</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]   27   36   45</span>

<span class="pl-c"><span class="pl-c">#</span> cbind() sticks vectors together column-wise to make a matrix</span>
<span class="pl-smi">mat2</span> <span class="pl-k">&lt;-</span> cbind(<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">4</span>, c(<span class="pl-s"><span class="pl-pds">"</span>dog<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>cat<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bird<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>dog<span class="pl-pds">"</span></span>))
<span class="pl-smi">mat2</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,] "1"  "dog"</span>
<span class="pl-c"><span class="pl-c">#</span> [2,] "2"  "cat"</span>
<span class="pl-c"><span class="pl-c">#</span> [3,] "3"  "bird"</span>
<span class="pl-c"><span class="pl-c">#</span> [4,] "4"  "dog"</span>
class(<span class="pl-smi">mat2</span>) <span class="pl-c"><span class="pl-c">#</span> matrix</span>
<span class="pl-c"><span class="pl-c">#</span> Again, note what happened!</span>
<span class="pl-c"><span class="pl-c">#</span> Because matrices must contain entries all of the same class,</span>
<span class="pl-c"><span class="pl-c">#</span> everything got converted to the character class</span>
c(class(<span class="pl-smi">mat2</span>[, <span class="pl-c1">1</span>]), class(<span class="pl-smi">mat2</span>[, <span class="pl-c1">2</span>]))

<span class="pl-c"><span class="pl-c">#</span> rbind() sticks vectors together row-wise to make a matrix</span>
<span class="pl-smi">mat3</span> <span class="pl-k">&lt;-</span> rbind(c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">4</span>, <span class="pl-c1">5</span>), c(<span class="pl-c1">6</span>, <span class="pl-c1">7</span>, <span class="pl-c1">0</span>, <span class="pl-c1">4</span>))
<span class="pl-smi">mat3</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2] [,3] [,4]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    1    2    4    5</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    6    7    0    4</span>
<span class="pl-c"><span class="pl-c">#</span> Ah, everything of the same class. No coercions. Much better.</span>

<span class="pl-c"><span class="pl-c">#</span> TWO-DIMENSIONAL (DIFFERENT CLASSES)</span>

<span class="pl-c"><span class="pl-c">#</span> For columns of different types, use a data frame</span>
<span class="pl-c"><span class="pl-c">#</span> This data structure is so useful for statistical programming,</span>
<span class="pl-c"><span class="pl-c">#</span> a version of it was added to Python in the package "pandas".</span>

<span class="pl-smi">students</span> <span class="pl-k">&lt;-</span> <span class="pl-k">data.frame</span>(c(<span class="pl-s"><span class="pl-pds">"</span>Cedric<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Fred<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>George<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Cho<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Draco<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Ginny<span class="pl-pds">"</span></span>),
                       c(       <span class="pl-c1">3</span>,      <span class="pl-c1">2</span>,        <span class="pl-c1">2</span>,     <span class="pl-c1">1</span>,       <span class="pl-c1">0</span>,      <span class="pl-k">-</span><span class="pl-c1">1</span>),
                       c(     <span class="pl-s"><span class="pl-pds">"</span>H<span class="pl-pds">"</span></span>,    <span class="pl-s"><span class="pl-pds">"</span>G<span class="pl-pds">"</span></span>,      <span class="pl-s"><span class="pl-pds">"</span>G<span class="pl-pds">"</span></span>,   <span class="pl-s"><span class="pl-pds">"</span>R<span class="pl-pds">"</span></span>,     <span class="pl-s"><span class="pl-pds">"</span>S<span class="pl-pds">"</span></span>,     <span class="pl-s"><span class="pl-pds">"</span>G<span class="pl-pds">"</span></span>))
names(<span class="pl-smi">students</span>) <span class="pl-k">&lt;-</span> c(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>house<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> name the columns</span>
class(<span class="pl-smi">students</span>) <span class="pl-c"><span class="pl-c">#</span> "data.frame"</span>
<span class="pl-smi">students</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>     name year house</span>
<span class="pl-c"><span class="pl-c">#</span> 1 Cedric    3     H</span>
<span class="pl-c"><span class="pl-c">#</span> 2   Fred    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 3 George    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 4    Cho    1     R</span>
<span class="pl-c"><span class="pl-c">#</span> 5  Draco    0     S</span>
<span class="pl-c"><span class="pl-c">#</span> 6  Ginny   -1     G</span>
class(<span class="pl-smi">students</span><span class="pl-k">$</span><span class="pl-smi">year</span>)    <span class="pl-c"><span class="pl-c">#</span> "numeric"</span>
class(<span class="pl-smi">students</span>[,<span class="pl-c1">3</span>])     <span class="pl-c"><span class="pl-c">#</span> "factor"</span>
<span class="pl-c"><span class="pl-c">#</span> find the dimensions</span>
nrow(<span class="pl-smi">students</span>)  <span class="pl-c"><span class="pl-c">#</span> 6</span>
ncol(<span class="pl-smi">students</span>)  <span class="pl-c"><span class="pl-c">#</span> 3</span>
dim(<span class="pl-smi">students</span>)   <span class="pl-c"><span class="pl-c">#</span> 6 3</span>
<span class="pl-c"><span class="pl-c">#</span> The data.frame() function used to convert character vectors to factor</span>
<span class="pl-c"><span class="pl-c">#</span> vectors by default; This has changed in R 4.0.0. If your R version is</span>
<span class="pl-c"><span class="pl-c">#</span> older, turn this off by setting stringsAsFactors = FALSE when you</span>
<span class="pl-c"><span class="pl-c">#</span> create the data.frame</span>
?<span class="pl-smi">data.frame</span>

<span class="pl-c"><span class="pl-c">#</span> There are many twisty ways to subset data frames, all subtly unalike</span>
<span class="pl-smi">students</span><span class="pl-k">$</span><span class="pl-smi">year</span>       <span class="pl-c"><span class="pl-c">#</span> 3  2  2  1  0 -1</span>
<span class="pl-smi">students</span>[, <span class="pl-c1">2</span>]       <span class="pl-c"><span class="pl-c">#</span> 3  2  2  1  0 -1</span>
<span class="pl-smi">students</span>[, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>]  <span class="pl-c"><span class="pl-c">#</span> 3  2  2  1  0 -1</span>

<span class="pl-c"><span class="pl-c">#</span> An augmented version of the data.frame structure is the data.table</span>
<span class="pl-c"><span class="pl-c">#</span> If you're working with huge or panel data, or need to merge a few data</span>
<span class="pl-c"><span class="pl-c">#</span> sets, data.table can be a good choice. Here's a whirlwind tour:</span>
install.packages(<span class="pl-s"><span class="pl-pds">"</span>data.table<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> download the package from CRAN</span>
require(<span class="pl-smi">data.table</span>) <span class="pl-c"><span class="pl-c">#</span> load it</span>
<span class="pl-smi">students</span> <span class="pl-k">&lt;-</span> as.data.table(<span class="pl-smi">students</span>)
<span class="pl-smi">students</span> <span class="pl-c"><span class="pl-c">#</span> note the slightly different print-out</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      name year house</span>
<span class="pl-c"><span class="pl-c">#</span> 1: Cedric    3     H</span>
<span class="pl-c"><span class="pl-c">#</span> 2:   Fred    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 3: George    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 4:    Cho    1     R</span>
<span class="pl-c"><span class="pl-c">#</span> 5:  Draco    0     S</span>
<span class="pl-c"><span class="pl-c">#</span> 6:  Ginny   -1     G</span>
<span class="pl-smi">students</span>[<span class="pl-smi">name</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Ginny<span class="pl-pds">"</span></span>] <span class="pl-c"><span class="pl-c">#</span> get rows with name == "Ginny"</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>     name year house</span>
<span class="pl-c"><span class="pl-c">#</span> 1: Ginny   -1     G</span>
<span class="pl-smi">students</span>[<span class="pl-smi">year</span> <span class="pl-k">==</span> <span class="pl-c1">2</span>] <span class="pl-c"><span class="pl-c">#</span> get rows with year == 2</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      name year house</span>
<span class="pl-c"><span class="pl-c">#</span> 1:   Fred    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 2: George    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> data.table makes merging two data sets easy</span>
<span class="pl-c"><span class="pl-c">#</span> let's make another data.table to merge with students</span>
<span class="pl-smi">founders</span> <span class="pl-k">&lt;-</span> data.table(<span class="pl-v">house</span>   <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>G<span class="pl-pds">"</span></span>     , <span class="pl-s"><span class="pl-pds">"</span>H<span class="pl-pds">"</span></span>    , <span class="pl-s"><span class="pl-pds">"</span>R<span class="pl-pds">"</span></span>     , <span class="pl-s"><span class="pl-pds">"</span>S<span class="pl-pds">"</span></span>),
                       <span class="pl-v">founder</span> <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>Godric<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Helga<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Rowena<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Salazar<span class="pl-pds">"</span></span>))
<span class="pl-smi">founders</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>    house founder</span>
<span class="pl-c"><span class="pl-c">#</span> 1:     G  Godric</span>
<span class="pl-c"><span class="pl-c">#</span> 2:     H   Helga</span>
<span class="pl-c"><span class="pl-c">#</span> 3:     R  Rowena</span>
<span class="pl-c"><span class="pl-c">#</span> 4:     S Salazar</span>
setkey(<span class="pl-smi">students</span>, <span class="pl-smi">house</span>)
setkey(<span class="pl-smi">founders</span>, <span class="pl-smi">house</span>)
<span class="pl-smi">students</span> <span class="pl-k">&lt;-</span> <span class="pl-smi">founders</span>[<span class="pl-smi">students</span>] <span class="pl-c"><span class="pl-c">#</span> merge the two data sets by matching "house"</span>
setnames(<span class="pl-smi">students</span>, c(<span class="pl-s"><span class="pl-pds">"</span>house<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>houseFounderName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>studentName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>))
<span class="pl-smi">students</span>[, order(c(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>house<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>houseFounderName<span class="pl-pds">"</span></span>)), <span class="pl-v">with</span> <span class="pl-k">=</span> <span class="pl-c1">F</span>]
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>    studentName year house houseFounderName</span>
<span class="pl-c"><span class="pl-c">#</span> 1:        Fred    2     G           Godric</span>
<span class="pl-c"><span class="pl-c">#</span> 2:      George    2     G           Godric</span>
<span class="pl-c"><span class="pl-c">#</span> 3:       Ginny   -1     G           Godric</span>
<span class="pl-c"><span class="pl-c">#</span> 4:      Cedric    3     H            Helga</span>
<span class="pl-c"><span class="pl-c">#</span> 5:         Cho    1     R           Rowena</span>
<span class="pl-c"><span class="pl-c">#</span> 6:       Draco    0     S          Salazar</span>

<span class="pl-c"><span class="pl-c">#</span> data.table makes summary tables easy</span>
<span class="pl-smi">students</span>[, sum(<span class="pl-smi">year</span>), <span class="pl-v">by</span> <span class="pl-k">=</span> <span class="pl-smi">house</span>]
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>    house V1</span>
<span class="pl-c"><span class="pl-c">#</span> 1:     G  3</span>
<span class="pl-c"><span class="pl-c">#</span> 2:     H  3</span>
<span class="pl-c"><span class="pl-c">#</span> 3:     R  1</span>
<span class="pl-c"><span class="pl-c">#</span> 4:     S  0</span>

<span class="pl-c"><span class="pl-c">#</span> To drop a column from a data.frame or data.table,</span>
<span class="pl-c"><span class="pl-c">#</span> assign it the NULL value</span>
<span class="pl-smi">students</span><span class="pl-k">$</span><span class="pl-smi">houseFounderName</span> <span class="pl-k">&lt;-</span> <span class="pl-c1">NULL</span>
<span class="pl-smi">students</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>    studentName year house</span>
<span class="pl-c"><span class="pl-c">#</span> 1:        Fred    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 2:      George    2     G</span>
<span class="pl-c"><span class="pl-c">#</span> 3:       Ginny   -1     G</span>
<span class="pl-c"><span class="pl-c">#</span> 4:      Cedric    3     H</span>
<span class="pl-c"><span class="pl-c">#</span> 5:         Cho    1     R</span>
<span class="pl-c"><span class="pl-c">#</span> 6:       Draco    0     S</span>

<span class="pl-c"><span class="pl-c">#</span> Drop a row by subsetting</span>
<span class="pl-c"><span class="pl-c">#</span> Using data.table:</span>
<span class="pl-smi">students</span>[<span class="pl-smi">studentName</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span>Draco<span class="pl-pds">"</span></span>]
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>    house studentName year</span>
<span class="pl-c"><span class="pl-c">#</span> 1:     G        Fred    2</span>
<span class="pl-c"><span class="pl-c">#</span> 2:     G      George    2</span>
<span class="pl-c"><span class="pl-c">#</span> 3:     G       Ginny   -1</span>
<span class="pl-c"><span class="pl-c">#</span> 4:     H      Cedric    3</span>
<span class="pl-c"><span class="pl-c">#</span> 5:     R         Cho    1</span>
<span class="pl-c"><span class="pl-c">#</span> Using data.frame:</span>
<span class="pl-smi">students</span> <span class="pl-k">&lt;-</span> as.data.frame(<span class="pl-smi">students</span>)
<span class="pl-smi">students</span>[<span class="pl-smi">students</span><span class="pl-k">$</span><span class="pl-smi">house</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span>G<span class="pl-pds">"</span></span>, ]
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>   house houseFounderName studentName year</span>
<span class="pl-c"><span class="pl-c">#</span> 4     H            Helga      Cedric    3</span>
<span class="pl-c"><span class="pl-c">#</span> 5     R           Rowena         Cho    1</span>
<span class="pl-c"><span class="pl-c">#</span> 6     S          Salazar       Draco    0</span>

<span class="pl-c"><span class="pl-c">#</span> MULTI-DIMENSIONAL (ALL ELEMENTS OF ONE TYPE)</span>

<span class="pl-c"><span class="pl-c">#</span> Arrays creates n-dimensional tables</span>
<span class="pl-c"><span class="pl-c">#</span> All elements must be of the same type</span>
<span class="pl-c"><span class="pl-c">#</span> You can make a two-dimensional table (sort of like a matrix)</span>
<span class="pl-k">array</span>(c(c(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">4</span>, <span class="pl-c1">5</span>), c(<span class="pl-c1">8</span>, <span class="pl-c1">9</span>, <span class="pl-c1">3</span>, <span class="pl-c1">6</span>)), <span class="pl-v">dim</span> <span class="pl-k">=</span> c(<span class="pl-c1">2</span>, <span class="pl-c1">4</span>))
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2] [,3] [,4]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    1    4    8    3</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    2    5    9    6</span>
<span class="pl-c"><span class="pl-c">#</span> You can use array to make three-dimensional matrices too</span>
<span class="pl-k">array</span>(c(c(c(<span class="pl-c1">2</span>, <span class="pl-c1">300</span>, <span class="pl-c1">4</span>), c(<span class="pl-c1">8</span>, <span class="pl-c1">9</span>, <span class="pl-c1">0</span>)), c(c(<span class="pl-c1">5</span>, <span class="pl-c1">60</span>, <span class="pl-c1">0</span>), c(<span class="pl-c1">66</span>, <span class="pl-c1">7</span>, <span class="pl-c1">847</span>))), <span class="pl-v">dim</span> <span class="pl-k">=</span> c(<span class="pl-c1">3</span>, <span class="pl-c1">2</span>, <span class="pl-c1">2</span>))
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> , , 1</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    2    8</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]  300    9</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]    4    0</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> , , 2</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    5   66</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]   60    7</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]    0  847</span>

<span class="pl-c"><span class="pl-c">#</span> LISTS (MULTI-DIMENSIONAL, POSSIBLY RAGGED, OF DIFFERENT TYPES)</span>

<span class="pl-c"><span class="pl-c">#</span> Finally, R has lists (of vectors)</span>
<span class="pl-smi">list1</span> <span class="pl-k">&lt;-</span> <span class="pl-k">list</span>(<span class="pl-v">time</span> <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">40</span>)
<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-v">price</span> <span class="pl-k">=</span> c(rnorm(<span class="pl-c1">40</span>, <span class="pl-smi">.5</span><span class="pl-k">*</span><span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">time</span>, <span class="pl-c1">4</span>)) <span class="pl-c"><span class="pl-c">#</span> random</span>
<span class="pl-smi">list1</span>
<span class="pl-c"><span class="pl-c">#</span> You can get items in the list like so</span>
<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">time</span> <span class="pl-c"><span class="pl-c">#</span> one way</span>
<span class="pl-smi">list1</span>[[<span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>]] <span class="pl-c"><span class="pl-c">#</span> another way</span>
<span class="pl-smi">list1</span>[[<span class="pl-c1">1</span>]] <span class="pl-c"><span class="pl-c">#</span> yet another way</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33</span>
<span class="pl-c"><span class="pl-c">#</span> [34] 34 35 36 37 38 39 40</span>
<span class="pl-c"><span class="pl-c">#</span> You can subset list items like any other vector</span>
<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">price</span>[<span class="pl-c1">4</span>]

<span class="pl-c"><span class="pl-c">#</span> Lists are not the most efficient data structure to work with in R;</span>
<span class="pl-c"><span class="pl-c">#</span> unless you have a very good reason, you should stick to data.frames</span>
<span class="pl-c"><span class="pl-c">#</span> Lists are often returned by functions that perform linear regressions</span>

<span class="pl-c"><span class="pl-c">#</span>#################################################</span>
<span class="pl-c"><span class="pl-c">#</span> The apply() family of functions</span>
<span class="pl-c"><span class="pl-c">#</span>#################################################</span>

<span class="pl-c"><span class="pl-c">#</span> Remember mat?</span>
<span class="pl-smi">mat</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    1    4</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    2    5</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]    3    6</span>
<span class="pl-c"><span class="pl-c">#</span> Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X</span>
<span class="pl-c"><span class="pl-c">#</span> over rows (MAR = 1) or columns (MAR = 2)</span>
<span class="pl-c"><span class="pl-c">#</span> That is, R does FUN to each row (or column) of X, much faster than a</span>
<span class="pl-c"><span class="pl-c">#</span> for or while loop would do</span>
apply(<span class="pl-smi">mat</span>, <span class="pl-v">MAR</span> <span class="pl-k">=</span> <span class="pl-c1">2</span>, <span class="pl-smi">jiggle</span>)
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>      [,1] [,2]</span>
<span class="pl-c"><span class="pl-c">#</span> [1,]    3   15</span>
<span class="pl-c"><span class="pl-c">#</span> [2,]    7   19</span>
<span class="pl-c"><span class="pl-c">#</span> [3,]   11   23</span>
<span class="pl-c"><span class="pl-c">#</span> Other functions: ?lapply, ?sapply</span>

<span class="pl-c"><span class="pl-c">#</span> Don't feel too intimidated; everyone agrees they are rather confusing</span>

<span class="pl-c"><span class="pl-c">#</span> The plyr package aims to replace (and improve upon!) the *apply() family.</span>
install.packages(<span class="pl-s"><span class="pl-pds">"</span>plyr<span class="pl-pds">"</span></span>)
require(<span class="pl-smi">plyr</span>)
?<span class="pl-smi">plyr</span>



<span class="pl-c"><span class="pl-c">#</span>########################</span>
<span class="pl-c"><span class="pl-c">#</span> Loading data</span>
<span class="pl-c"><span class="pl-c">#</span>########################</span>

<span class="pl-c"><span class="pl-c">#</span> "pets.csv" is a file on the internet</span>
<span class="pl-c"><span class="pl-c">#</span> (but it could just as easily be a file on your own computer)</span>
require(<span class="pl-smi">RCurl</span>)
<span class="pl-smi">pets</span> <span class="pl-k">&lt;-</span> read.csv(textConnection(getURL(<span class="pl-s"><span class="pl-pds">"</span>https://learnxinyminutes.com/docs/pets.csv<span class="pl-pds">"</span></span>)))
<span class="pl-smi">pets</span>
head(<span class="pl-smi">pets</span>, <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">#</span> first two rows</span>
tail(<span class="pl-smi">pets</span>, <span class="pl-c1">1</span>) <span class="pl-c"><span class="pl-c">#</span> last row</span>

<span class="pl-c"><span class="pl-c">#</span> To save a data frame or matrix as a .csv file</span>
write.csv(<span class="pl-smi">pets</span>, <span class="pl-s"><span class="pl-pds">"</span>pets2.csv<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> to make a new .csv file</span>
<span class="pl-c"><span class="pl-c">#</span> set working directory with setwd(), look it up with getwd()</span>

<span class="pl-c"><span class="pl-c">#</span> Try ?read.csv and ?write.csv for more information</span>



<span class="pl-c"><span class="pl-c">#</span>########################</span>
<span class="pl-c"><span class="pl-c">#</span> Statistical Analysis</span>
<span class="pl-c"><span class="pl-c">#</span>########################</span>

<span class="pl-c"><span class="pl-c">#</span> Linear regression!</span>
<span class="pl-smi">linearModel</span> <span class="pl-k">&lt;-</span> lm(<span class="pl-smi">price</span> <span class="pl-k">~</span> <span class="pl-smi">time</span>, <span class="pl-v">data</span> <span class="pl-k">=</span> <span class="pl-smi">list1</span>)
<span class="pl-smi">linearModel</span> <span class="pl-c"><span class="pl-c">#</span> outputs result of regression</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> Call:</span>
<span class="pl-c"><span class="pl-c">#</span> lm(formula = price ~ time, data = list1)</span>
<span class="pl-c"><span class="pl-c">#</span> </span>
<span class="pl-c"><span class="pl-c">#</span> Coefficients:</span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept)         time  </span>
<span class="pl-c"><span class="pl-c">#</span>      0.1453       0.4943  </span>
summary(<span class="pl-smi">linearModel</span>) <span class="pl-c"><span class="pl-c">#</span> more verbose output from the regression</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> Call:</span>
<span class="pl-c"><span class="pl-c">#</span> lm(formula = price ~ time, data = list1)</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Residuals:</span>
<span class="pl-c"><span class="pl-c">#</span>     Min      1Q  Median      3Q     Max </span>
<span class="pl-c"><span class="pl-c">#</span> -8.3134 -3.0131 -0.3606  2.8016 10.3992 </span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Coefficients:</span>
<span class="pl-c"><span class="pl-c">#</span>             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept)  0.14527    1.50084   0.097    0.923    </span>
<span class="pl-c"><span class="pl-c">#</span> time         0.49435    0.06379   7.749 2.44e-09 ***</span>
<span class="pl-c"><span class="pl-c">#</span> ---</span>
<span class="pl-c"><span class="pl-c">#</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Residual standard error: 4.657 on 38 degrees of freedom</span>
<span class="pl-c"><span class="pl-c">#</span> Multiple R-squared:  0.6124,	Adjusted R-squared:  0.6022 </span>
<span class="pl-c"><span class="pl-c">#</span> F-statistic: 60.05 on 1 and 38 DF,  p-value: 2.44e-09</span>
coef(<span class="pl-smi">linearModel</span>) <span class="pl-c"><span class="pl-c">#</span> extract estimated parameters</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept)        time </span>
<span class="pl-c"><span class="pl-c">#</span>   0.1452662   0.4943490 </span>
summary(<span class="pl-smi">linearModel</span>)<span class="pl-k">$</span><span class="pl-smi">coefficients</span> <span class="pl-c"><span class="pl-c">#</span> another way to extract results</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>              Estimate Std. Error    t value     Pr(&gt;|t|)</span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept) 0.1452662 1.50084246 0.09678975 9.234021e-01</span>
<span class="pl-c"><span class="pl-c">#</span> time        0.4943490 0.06379348 7.74920901 2.440008e-09</span>
summary(<span class="pl-smi">linearModel</span>)<span class="pl-k">$</span><span class="pl-smi">coefficients</span>[, <span class="pl-c1">4</span>] <span class="pl-c"><span class="pl-c">#</span> the p-values </span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span>  (Intercept)         time </span>
<span class="pl-c"><span class="pl-c">#</span> 9.234021e-01 2.440008e-09 </span>

<span class="pl-c"><span class="pl-c">#</span> GENERAL LINEAR MODELS</span>
<span class="pl-c"><span class="pl-c">#</span> Logistic regression</span>
set.seed(<span class="pl-c1">1</span>)
<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-v">success</span> <span class="pl-k">=</span> rbinom(length(<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">time</span>), <span class="pl-c1">1</span>, <span class="pl-smi">.5</span>) <span class="pl-c"><span class="pl-c">#</span> random binary</span>
<span class="pl-smi">glModel</span> <span class="pl-k">&lt;-</span> glm(<span class="pl-smi">success</span>  <span class="pl-k">~</span> <span class="pl-smi">time</span>, <span class="pl-v">data</span> <span class="pl-k">=</span> <span class="pl-smi">list1</span>, <span class="pl-v">family</span><span class="pl-k">=</span>binomial(<span class="pl-v">link</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>logit<span class="pl-pds">"</span></span>))
<span class="pl-smi">glModel</span> <span class="pl-c"><span class="pl-c">#</span> outputs result of logistic regression</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> Call:  glm(formula = success ~ time, </span>
<span class="pl-c"><span class="pl-c">#</span>	family = binomial(link = "logit"), data = list1)</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span> Coefficients:</span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept)         time  </span>
<span class="pl-c"><span class="pl-c">#</span>     0.17018     -0.01321  </span>
<span class="pl-c"><span class="pl-c">#</span> </span>
<span class="pl-c"><span class="pl-c">#</span> Degrees of Freedom: 39 Total (i.e. Null);  38 Residual</span>
<span class="pl-c"><span class="pl-c">#</span> Null Deviance:	    55.35 </span>
<span class="pl-c"><span class="pl-c">#</span> Residual Deviance: 55.12 	 AIC: 59.12</span>
summary(<span class="pl-smi">glModel</span>) <span class="pl-c"><span class="pl-c">#</span> more verbose output from the regression</span>
<span class="pl-c"><span class="pl-c">#</span> =&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> Call:</span>
<span class="pl-c"><span class="pl-c">#</span> glm(</span>
<span class="pl-c"><span class="pl-c">#</span>	formula = success ~ time,</span>
<span class="pl-c"><span class="pl-c">#</span>	family = binomial(link = "logit"),</span>
<span class="pl-c"><span class="pl-c">#</span>	data = list1)</span>

<span class="pl-c"><span class="pl-c">#</span> Deviance Residuals: </span>
<span class="pl-c"><span class="pl-c">#</span>    Min      1Q  Median      3Q     Max  </span>
<span class="pl-c"><span class="pl-c">#</span> -1.245  -1.118  -1.035   1.202   1.327  </span>
<span class="pl-c"><span class="pl-c">#</span> </span>
<span class="pl-c"><span class="pl-c">#</span> Coefficients:</span>
<span class="pl-c"><span class="pl-c">#</span>             Estimate Std. Error z value Pr(&gt;|z|)</span>
<span class="pl-c"><span class="pl-c">#</span> (Intercept)  0.17018    0.64621   0.263    0.792</span>
<span class="pl-c"><span class="pl-c">#</span> time        -0.01321    0.02757  -0.479    0.632</span>
<span class="pl-c"><span class="pl-c">#</span> </span>
<span class="pl-c"><span class="pl-c">#</span> (Dispersion parameter for binomial family taken to be 1)</span>
<span class="pl-c"><span class="pl-c">#</span></span>
<span class="pl-c"><span class="pl-c">#</span>     Null deviance: 55.352  on 39  degrees of freedom</span>
<span class="pl-c"><span class="pl-c">#</span> Residual deviance: 55.121  on 38  degrees of freedom</span>
<span class="pl-c"><span class="pl-c">#</span> AIC: 59.121</span>
<span class="pl-c"><span class="pl-c">#</span> </span>
<span class="pl-c"><span class="pl-c">#</span> Number of Fisher Scoring iterations: 3</span>


<span class="pl-c"><span class="pl-c">#</span>########################</span>
<span class="pl-c"><span class="pl-c">#</span> Plots</span>
<span class="pl-c"><span class="pl-c">#</span>########################</span>

<span class="pl-c"><span class="pl-c">#</span> BUILT-IN PLOTTING FUNCTIONS</span>
<span class="pl-c"><span class="pl-c">#</span> Scatterplots!</span>
plot(<span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">time</span>, <span class="pl-smi">list1</span><span class="pl-k">$</span><span class="pl-smi">price</span>, <span class="pl-v">main</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>fake data<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> Plot regression line on existing plot</span>
abline(<span class="pl-smi">linearModel</span>, <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> Get a variety of nice diagnostics</span>
plot(<span class="pl-smi">linearModel</span>)
<span class="pl-c"><span class="pl-c">#</span> Histograms!</span>
hist(rpois(<span class="pl-v">n</span> <span class="pl-k">=</span> <span class="pl-c1">10000</span>, <span class="pl-v">lambda</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>), <span class="pl-v">col</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>thistle<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> Barplots!</span>
barplot(c(<span class="pl-c1">1</span>, <span class="pl-c1">4</span>, <span class="pl-c1">5</span>, <span class="pl-c1">1</span>, <span class="pl-c1">2</span>), <span class="pl-v">names.arg</span> <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>purple<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>yellow<span class="pl-pds">"</span></span>))

<span class="pl-c"><span class="pl-c">#</span> GGPLOT2</span>
<span class="pl-c"><span class="pl-c">#</span> But these are not even the prettiest of R's plots</span>
<span class="pl-c"><span class="pl-c">#</span> Try the ggplot2 package for more and better graphics</span>
install.packages(<span class="pl-s"><span class="pl-pds">"</span>ggplot2<span class="pl-pds">"</span></span>)
require(<span class="pl-smi">ggplot2</span>)
?<span class="pl-smi">ggplot2</span>
<span class="pl-smi">pp</span> <span class="pl-k">&lt;-</span> ggplot(<span class="pl-smi">students</span>, aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">house</span>))
<span class="pl-smi">pp</span> <span class="pl-k">+</span> geom_bar()
<span class="pl-smi">ll</span> <span class="pl-k">&lt;-</span> as.data.table(<span class="pl-smi">list1</span>)
<span class="pl-smi">pp</span> <span class="pl-k">&lt;-</span> ggplot(<span class="pl-smi">ll</span>, aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">time</span>, <span class="pl-smi">price</span>))
<span class="pl-smi">pp</span> <span class="pl-k">+</span> geom_point()
<span class="pl-c"><span class="pl-c">#</span> ggplot2 has excellent documentation (available http://docs.ggplot2.org/current/)</span>


</pre></div>
<h2>How do I get R?</h2>
<ul>
<li>Get R and the R GUI from <a href="http://www.r-project.org/" rel="nofollow">http://www.r-project.org/</a></li>
<li><a href="http://www.rstudio.com/ide/" rel="nofollow">RStudio</a> is another GUI</li>
</ul>
<hr>
<h2>Contributors</h2>
<pre class="notranslate"><code class="notranslate">- ["e99n09", "http://github.com/e99n09"]
- ["isomorphismes", "http://twitter.com/isomorphisms"]
- ["kalinn", "http://github.com/kalinn"]
- ["mribeirodantas", "http://github.com/mribeirodantas"]
</code></pre>