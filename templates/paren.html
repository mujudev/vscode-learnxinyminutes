<h1>Paren</h1>
<p><a href="https://bitbucket.org/ktg/paren" rel="nofollow">Paren</a> is a dialect of Lisp. It is designed to be an embedded language.</p>
<p>Some examples are from <a href="http://learnxinyminutes.com/docs/racket/" rel="nofollow">http://learnxinyminutes.com/docs/racket/</a>.</p>
<div class="highlight highlight-source-scheme"><pre class="notranslate"><span class="pl-c"><span class="pl-c">;</span>;; Comments</span>
# comments

<span class="pl-c"><span class="pl-c">;</span>; Single line comments start with a semicolon or a sharp sign</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 1. Primitive Datatypes and Operators</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>;; Numbers</span>
123 <span class="pl-c"><span class="pl-c">;</span> int</span>
3.14 <span class="pl-c"><span class="pl-c">;</span> double</span>
6.02e+23 <span class="pl-c"><span class="pl-c">;</span> double</span>
(int <span class="pl-c1">3.14</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 3 : int</span>
(double <span class="pl-c1">123</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 123 : double</span>

<span class="pl-c"><span class="pl-c">;</span>; Function application is written (f x y z ...)</span>
<span class="pl-c"><span class="pl-c">;</span>; where f is a function and x, y, z, ... are operands</span>
<span class="pl-c"><span class="pl-c">;</span>; If you want to create a literal list of data, use (quote) to stop it from</span>
<span class="pl-c"><span class="pl-c">;</span>; being evaluated</span>
(<span class="pl-k">quote</span> <span class="pl-s">(+ 1 2)</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; (+ 1 2)</span>
<span class="pl-c"><span class="pl-c">;</span>; Now, some arithmetic operations</span>
(<span class="pl-k">+</span> <span class="pl-c1">1</span> <span class="pl-c1">1</span>)  <span class="pl-c"><span class="pl-c">;</span> =&gt; 2</span>
(<span class="pl-k">-</span> <span class="pl-c1">8</span> <span class="pl-c1">1</span>)  <span class="pl-c"><span class="pl-c">;</span> =&gt; 7</span>
(<span class="pl-k">*</span> <span class="pl-c1">10</span> <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 20</span>
(^ <span class="pl-c1">2</span> <span class="pl-c1">3</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 8</span>
(<span class="pl-k">/</span> <span class="pl-c1">5</span> <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 2</span>
(% <span class="pl-c1">5</span> <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 1</span>
(<span class="pl-k">/</span> <span class="pl-c1">5.0</span> <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 2.5</span>

<span class="pl-c"><span class="pl-c">;</span>;; Booleans</span>
true <span class="pl-c"><span class="pl-c">;</span> for true</span>
false <span class="pl-c"><span class="pl-c">;</span> for false</span>
(! true) <span class="pl-c"><span class="pl-c">;</span> =&gt; false</span>
(&amp;&amp; true false (prn <span class="pl-s"><span class="pl-pds">"</span>doesn't get here<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; false</span>
(|| false true (prn <span class="pl-s"><span class="pl-pds">"</span>doesn't get here<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; true</span>

<span class="pl-c"><span class="pl-c">;</span>;; Characters are ints.</span>
(char-at <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span> <span class="pl-c1">0</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 65</span>
(chr <span class="pl-c1">65</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; "A"</span>

<span class="pl-c"><span class="pl-c">;</span>;; Strings are fixed-length array of characters.</span>
<span class="pl-s"><span class="pl-pds">"</span>Hello, world!<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds">"</span>Benjamin <span class="pl-cce">\"</span>Bugsy<span class="pl-cce">\"</span> Siegel<span class="pl-pds">"</span></span>   <span class="pl-c"><span class="pl-c">;</span> backslash is an escaping character</span>
<span class="pl-s"><span class="pl-pds">"</span>Foo<span class="pl-cce">\t</span>bar<span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">;</span> includes C escapes: \t \r \n</span>

<span class="pl-c"><span class="pl-c">;</span>; Strings can be added too!</span>
(strcat <span class="pl-s"><span class="pl-pds">"</span>Hello <span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>world!<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; "Hello world!"</span>

<span class="pl-c"><span class="pl-c">;</span>; A string can be treated like a list of characters</span>
(char-at <span class="pl-s"><span class="pl-pds">"</span>Apple<span class="pl-pds">"</span></span> <span class="pl-c1">0</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 65</span>

<span class="pl-c"><span class="pl-c">;</span>; Printing is pretty easy</span>
(pr <span class="pl-s"><span class="pl-pds">"</span>I'm<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>Paren. <span class="pl-pds">"</span></span>) (prn <span class="pl-s"><span class="pl-pds">"</span>Nice to meet you!<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 2. Variables</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; You can create or set a variable using (set)</span>
<span class="pl-c"><span class="pl-c">;</span>; a variable name can use any character except: ();#"</span>
(set some-var <span class="pl-c1">5</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 5</span>
some-var <span class="pl-c"><span class="pl-c">;</span> =&gt; 5</span>

<span class="pl-c"><span class="pl-c">;</span>; Accessing a previously unassigned variable is an exception</span>
<span class="pl-c"><span class="pl-c">;</span> x ; =&gt; Unknown variable: x : nil</span>

<span class="pl-c"><span class="pl-c">;</span>; Local binding: Use lambda calculus! 'a' and 'b' are bound to '1' and '2' only within the (fn ...)</span>
((fn (a b) (<span class="pl-k">+</span> a b)) <span class="pl-c1">1</span> <span class="pl-c1">2</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 3</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 3. Collections</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>;; Lists</span>

<span class="pl-c"><span class="pl-c">;</span>; Lists are vector-like data structures. (Random access is O(1).)</span>
(<span class="pl-c1">cons</span> <span class="pl-c1">1</span> (<span class="pl-c1">cons</span> <span class="pl-c1">2</span> (<span class="pl-c1">cons</span> <span class="pl-c1">3</span> (list)))) <span class="pl-c"><span class="pl-c">;</span> =&gt; (1 2 3)</span>
<span class="pl-c"><span class="pl-c">;</span>; 'list' is a convenience variadic constructor for lists</span>
(<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; (1 2 3)</span>
<span class="pl-c"><span class="pl-c">;</span>; and a quote can also be used for a literal list value</span>
(<span class="pl-k">quote</span> <span class="pl-s">(+ 1 2)</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; (+ 1 2)</span>

<span class="pl-c"><span class="pl-c">;</span>; Can still use 'cons' to add an item to the beginning of a list</span>
(<span class="pl-c1">cons</span> <span class="pl-c1">0</span> (<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; (0 1 2 3)</span>

<span class="pl-c"><span class="pl-c">;</span>; Lists are a very basic type, so there is a *lot* of functionality for</span>
<span class="pl-c"><span class="pl-c">;</span>; them, a few examples:</span>
(<span class="pl-c1">map</span> inc (<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span>))          <span class="pl-c"><span class="pl-c">;</span> =&gt; (2 3 4)</span>
(filter (fn (x) (== <span class="pl-c1">0</span> (% x <span class="pl-c1">2</span>))) (<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span> <span class="pl-c1">4</span>))    <span class="pl-c"><span class="pl-c">;</span> =&gt; (2 4)</span>
(<span class="pl-c1">length</span> (<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span> <span class="pl-c1">3</span> <span class="pl-c1">4</span>))     <span class="pl-c"><span class="pl-c">;</span> =&gt; 4</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 3. Functions</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>; Use 'fn' to create functions.</span>
<span class="pl-c"><span class="pl-c">;</span>; A function always returns the value of its last expression</span>
(fn () <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; (fn () Hello World) : fn</span>

<span class="pl-c"><span class="pl-c">;</span>; Use parentheses to call all functions, including a lambda expression</span>
((fn () <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; "Hello World"</span>

<span class="pl-c"><span class="pl-c">;</span>; Assign a function to a var</span>
(set hello-world (fn () <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>))
(hello-world) <span class="pl-c"><span class="pl-c">;</span> =&gt; "Hello World"</span>

<span class="pl-c"><span class="pl-c">;</span>; You can shorten this using the function definition syntactic sugar:</span>
(defn hello-world2 () <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">;</span>; The () in the above is the list of arguments for the function</span>
(set hello
  (fn (name)
    (strcat <span class="pl-s"><span class="pl-pds">"</span>Hello <span class="pl-pds">"</span></span> name)))
(hello <span class="pl-s"><span class="pl-pds">"</span>Steve<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; "Hello Steve"</span>

<span class="pl-c"><span class="pl-c">;</span>; ... or equivalently, using a sugared definition:</span>
(defn hello2 (name)
  (strcat <span class="pl-s"><span class="pl-pds">"</span>Hello <span class="pl-pds">"</span></span> name))

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 4. Equality</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>; for numbers use '=='</span>
(== <span class="pl-c1">3</span> <span class="pl-c1">3.0</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; true</span>
(== <span class="pl-c1">2</span> <span class="pl-c1">1</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; false</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 5. Control Flow</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>;; Conditionals</span>

(<span class="pl-k">if</span> true               <span class="pl-c"><span class="pl-c">;</span> test expression</span>
    <span class="pl-s"><span class="pl-pds">"</span>this is true<span class="pl-pds">"</span></span>   <span class="pl-c"><span class="pl-c">;</span> then expression</span>
    <span class="pl-s"><span class="pl-pds">"</span>this is false<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">;</span> else expression</span>
<span class="pl-c"><span class="pl-c">;</span> =&gt; "this is true"</span>

<span class="pl-c"><span class="pl-c">;</span>;; Loops</span>

<span class="pl-c"><span class="pl-c">;</span>; for loop is for number</span>
<span class="pl-c"><span class="pl-c">;</span>; (for SYMBOL START END STEP EXPR ..)</span>
(for i <span class="pl-c1">0</span> <span class="pl-c1">10</span> <span class="pl-c1">2</span> (pr i <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; prints 0 2 4 6 8 10</span>
(for i <span class="pl-c1">0.0</span> <span class="pl-c1">10</span> <span class="pl-c1">2.5</span> (pr i <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; prints 0 2.5 5 7.5 10</span>

<span class="pl-c"><span class="pl-c">;</span>; while loop</span>
((fn (i)
  (while (<span class="pl-k">&lt;</span> i <span class="pl-c1">10</span>)
    (pr i)
    (++ i))) <span class="pl-c1">0</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; prints 0123456789</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 6. Mutation</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>; Use 'set' to assign a new value to a variable or a place</span>
(set n <span class="pl-c1">5</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 5</span>
(set n (inc n)) <span class="pl-c"><span class="pl-c">;</span> =&gt; 6</span>
n <span class="pl-c"><span class="pl-c">;</span> =&gt; 6</span>
(set a (<span class="pl-c1">list</span> <span class="pl-c1">1</span> <span class="pl-c1">2</span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; (1 2)</span>
(set (nth <span class="pl-c1">0</span> a) <span class="pl-c1">3</span>) <span class="pl-c"><span class="pl-c">;</span> =&gt; 3</span>
a <span class="pl-c"><span class="pl-c">;</span> =&gt; (3 2)</span>

<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="pl-c"><span class="pl-c">;</span>; 7. Macros</span>
<span class="pl-c"><span class="pl-c">;</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="pl-c"><span class="pl-c">;</span>; Macros let you extend the syntax of the language.</span>
<span class="pl-c"><span class="pl-c">;</span>; Paren macros are easy.</span>
<span class="pl-c"><span class="pl-c">;</span>; In fact, (defn) is a macro.</span>
(defmacro setfn (name ...) (set name (fn ...)))
(defmacro defn (name ...) (def name (fn ...)))

<span class="pl-c"><span class="pl-c">;</span>; Let's add an infix notation</span>
(defmacro infix (a op ...) (op a ...))
(infix <span class="pl-c1">1</span> <span class="pl-k">+</span> <span class="pl-c1">2</span> (infix <span class="pl-c1">3</span> <span class="pl-k">*</span> <span class="pl-c1">4</span>)) <span class="pl-c"><span class="pl-c">;</span> =&gt; 15</span>

<span class="pl-c"><span class="pl-c">;</span>; Macros are not hygienic, you can clobber existing variables!</span>
<span class="pl-c"><span class="pl-c">;</span>; They are code transformations.</span></pre></div>
<hr>
<h2>Contributors</h2>
<ul>
<li>["KIM Taegyoon", "https://github.com/kimtg"]</li>
<li>["Claudson Martins", "https://github.com/claudsonm"]</li>
</ul>