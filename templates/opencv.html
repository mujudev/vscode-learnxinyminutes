<h1>OpenCV</h1>
<p>OpenCV (Open Source Computer Vision) is a library of programming functions mainly aimed at real-time computer vision.<br>
Originally developed by Intel, it was later supported by Willow Garage then Itseez (which was later acquired by Intel).<br>
Opencv currently supports wide variety of languages like, C++, Python, Java etc</p>
<h4>Installation</h4>
<p>Please refer to these articles for installation of OpenCV on your computer.</p>
<ul>
<li>Windows Installation Instructions: <a href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_setup/py_setup_in_windows/py_setup_in_windows.html#install-opencv-python-in-windows" rel="nofollow">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_setup/py_setup_in_windows/py_setup_in_windows.html#install-opencv-python-in-windows</a></li>
<li>Mac Installation Instructions (High Sierra): <a href="https://medium.com/@nuwanprabhath/installing-opencv-in-macos-high-sierra-for-python-3-89c79f0a246a" rel="nofollow">https://medium.com/@nuwanprabhath/installing-opencv-in-macos-high-sierra-for-python-3-89c79f0a246a</a></li>
<li>Linux Installation Instructions (Ubuntu 18.04): <a href="https://www.pyimagesearch.com/2018/05/28/ubuntu-18-04-how-to-install-opencv" rel="nofollow">https://www.pyimagesearch.com/2018/05/28/ubuntu-18-04-how-to-install-opencv</a></li>
</ul>
<h3>Here we will be focusing on python implementation of OpenCV</h3>
<div class="highlight highlight-source-python"><pre class="notranslate"><span class="pl-c"># Reading image in OpenCV</span>
<span class="pl-k">import</span> <span class="pl-s1">cv2</span>
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">imread</span>(<span class="pl-s">'cat.jpg'</span>)

<span class="pl-c"># Displaying the image</span>
<span class="pl-c"># imshow() function is used to display the image</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">imshow</span>(<span class="pl-s">'Image'</span>,<span class="pl-s1">img</span>)
<span class="pl-c"># Your first arguement is the title of the window and second parameter is image</span>
<span class="pl-c"># If you are getting error, Object Type None, your image path may be wrong. Please recheck the pack to the image</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">waitKey</span>(<span class="pl-c1">0</span>)
<span class="pl-c"># waitKey() is a keyboard binding function and takes arguement in milliseconds. For GUI events you MUST use waitKey() function.</span>

<span class="pl-c"># Writing an image</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">imwrite</span>(<span class="pl-s">'catgray.png'</span>,<span class="pl-s1">img</span>)
<span class="pl-c"># first arguement is the file name and second is the image</span>

<span class="pl-c"># Convert image to grayscale</span>
<span class="pl-s1">gray_image</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">cvtColor</span>(<span class="pl-s1">img</span>, <span class="pl-s1">cv2</span>.<span class="pl-v">COLOR_BGR2GRAY</span>)

<span class="pl-c"># Capturing Video from Webcam</span>
<span class="pl-s1">cap</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">VideoCapture</span>(<span class="pl-c1">0</span>)
<span class="pl-c">#0 is your camera, if you have multiple camera, you need to enter their id</span>
<span class="pl-k">while</span>(<span class="pl-c1">True</span>):
    <span class="pl-c"># Capturing frame-by-frame</span>
    <span class="pl-s1">_</span>, <span class="pl-s1">frame</span> <span class="pl-c1">=</span> <span class="pl-s1">cap</span>.<span class="pl-en">read</span>()
    <span class="pl-s1">cv2</span>.<span class="pl-en">imshow</span>(<span class="pl-s">'Frame'</span>,<span class="pl-s1">frame</span>)
    <span class="pl-c"># When user presses q -&gt; quit</span>
    <span class="pl-k">if</span> <span class="pl-s1">cv2</span>.<span class="pl-en">waitKey</span>(<span class="pl-c1">1</span>) <span class="pl-c1">&amp;</span> <span class="pl-c1">0xFF</span> <span class="pl-c1">==</span> <span class="pl-en">ord</span>(<span class="pl-s">'q'</span>):
        <span class="pl-k">break</span>
<span class="pl-c"># Camera must be released</span>
<span class="pl-s1">cap</span>.<span class="pl-en">release</span>()

<span class="pl-c"># Playing Video from file</span>
<span class="pl-s1">cap</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">VideoCapture</span>(<span class="pl-s">'movie.mp4'</span>)
<span class="pl-k">while</span>(<span class="pl-s1">cap</span>.<span class="pl-en">isOpened</span>()):
    <span class="pl-s1">_</span>, <span class="pl-s1">frame</span> <span class="pl-c1">=</span> <span class="pl-s1">cap</span>.<span class="pl-en">read</span>()
    <span class="pl-c"># Play the video in grayscale</span>
    <span class="pl-s1">gray</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">cvtColor</span>(<span class="pl-s1">frame</span>, <span class="pl-s1">cv2</span>.<span class="pl-v">COLOR_BGR2GRAY</span>)
    <span class="pl-s1">cv2</span>.<span class="pl-en">imshow</span>(<span class="pl-s">'frame'</span>,<span class="pl-s1">gray</span>)
    <span class="pl-k">if</span> <span class="pl-s1">cv2</span>.<span class="pl-en">waitKey</span>(<span class="pl-c1">1</span>) <span class="pl-c1">&amp;</span> <span class="pl-c1">0xFF</span> <span class="pl-c1">==</span> <span class="pl-en">ord</span>(<span class="pl-s">'q'</span>):
        <span class="pl-k">break</span>
<span class="pl-s1">cap</span>.<span class="pl-en">release</span>()

<span class="pl-c"># Drawing The Line in OpenCV</span>
<span class="pl-c"># cv2.line(img,(x,y),(x1,y1),(color-&gt;r,g,b-&gt;0 to 255),thickness)</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">line</span>(<span class="pl-s1">img</span>,(<span class="pl-c1">0</span>,<span class="pl-c1">0</span>),(<span class="pl-c1">511</span>,<span class="pl-c1">511</span>),(<span class="pl-c1">255</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>),<span class="pl-c1">5</span>)

<span class="pl-c"># Drawing Rectangle</span>
<span class="pl-c"># cv2.rectangle(img,(x,y),(x1,y1),(color-&gt;r,g,b-&gt;0 to 255),thickness)</span>
<span class="pl-c"># thickness = -1 used for filling the rectangle</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">rectangle</span>(<span class="pl-s1">img</span>,(<span class="pl-c1">384</span>,<span class="pl-c1">0</span>),(<span class="pl-c1">510</span>,<span class="pl-c1">128</span>),(<span class="pl-c1">0</span>,<span class="pl-c1">255</span>,<span class="pl-c1">0</span>),<span class="pl-c1">3</span>)

<span class="pl-c"># Drawing Circle</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">circle</span>(<span class="pl-s1">img</span>,(<span class="pl-s1">xCenter</span>,<span class="pl-s1">yCenter</span>), <span class="pl-s1">radius</span>, (<span class="pl-s1">color</span><span class="pl-c1">-</span><span class="pl-c1">&gt;</span><span class="pl-s1">r</span>,<span class="pl-s1">g</span>,<span class="pl-s1">b</span><span class="pl-c1">-</span><span class="pl-c1">&gt;</span><span class="pl-c1">0</span> <span class="pl-s1">to</span> <span class="pl-c1">255</span>), <span class="pl-s1">thickness</span>)
<span class="pl-s1">cv2</span>.<span class="pl-en">circle</span>(<span class="pl-s1">img</span>,(<span class="pl-c1">200</span>,<span class="pl-c1">90</span>), <span class="pl-c1">100</span>, (<span class="pl-c1">0</span>,<span class="pl-c1">0</span>,<span class="pl-c1">255</span>), <span class="pl-c1">-</span><span class="pl-c1">1</span>)

<span class="pl-c"># Drawing Ellipse</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">ellipse</span>(<span class="pl-s1">img</span>,(<span class="pl-c1">256</span>,<span class="pl-c1">256</span>),(<span class="pl-c1">100</span>,<span class="pl-c1">50</span>),<span class="pl-c1">0</span>,<span class="pl-c1">0</span>,<span class="pl-c1">180</span>,<span class="pl-c1">255</span>,<span class="pl-c1">-</span><span class="pl-c1">1</span>)

<span class="pl-c"># Adding Text On Images</span>
<span class="pl-s1">cv2</span>.<span class="pl-en">putText</span>(<span class="pl-s1">img</span>,<span class="pl-s">"Hello World!!!"</span>, (<span class="pl-s1">x</span>,<span class="pl-s1">y</span>), <span class="pl-s1">cv2</span>.<span class="pl-v">FONT_HERSHEY_SIMPLEX</span>, <span class="pl-c1">2</span>, <span class="pl-c1">255</span>)

<span class="pl-c"># Blending Images</span>
<span class="pl-s1">img1</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">imread</span>(<span class="pl-s">'cat.png'</span>)
<span class="pl-s1">img2</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">imread</span>(<span class="pl-s">'openCV.jpg'</span>)
<span class="pl-s1">dst</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">addWeighted</span>(<span class="pl-s1">img1</span>,<span class="pl-c1">0.5</span>,<span class="pl-s1">img2</span>,<span class="pl-c1">0.5</span>,<span class="pl-c1">0</span>)

<span class="pl-c"># Thresholding image</span>
<span class="pl-c"># Binary Thresholding</span>
<span class="pl-s1">_</span>,<span class="pl-s1">thresImg</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">threshold</span>(<span class="pl-s1">img</span>,<span class="pl-c1">127</span>,<span class="pl-c1">255</span>,<span class="pl-s1">cv2</span>.<span class="pl-v">THRESH_BINARY</span>)
<span class="pl-c"># Adaptive Thresholding</span>
<span class="pl-s1">adapThres</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">adaptiveThreshold</span>(<span class="pl-s1">img</span>,<span class="pl-c1">255</span>,<span class="pl-s1">cv2</span>.<span class="pl-v">ADAPTIVE_THRESH_GAUSSIAN_C</span>, <span class="pl-s1">cv2</span>.<span class="pl-v">THRESH_BINARY</span>,<span class="pl-c1">11</span>,<span class="pl-c1">2</span>)

<span class="pl-c"># Blur Image</span>
<span class="pl-c"># Gaussian Blur</span>
<span class="pl-s1">blur</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">GaussianBlur</span>(<span class="pl-s1">img</span>,(<span class="pl-c1">5</span>,<span class="pl-c1">5</span>),<span class="pl-c1">0</span>)
<span class="pl-c"># Median Blur</span>
<span class="pl-s1">medianBlur</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">medianBlur</span>(<span class="pl-s1">img</span>,<span class="pl-c1">5</span>)

<span class="pl-c"># Canny Edge Detection</span>
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">imread</span>(<span class="pl-s">'cat.jpg'</span>,<span class="pl-c1">0</span>)
<span class="pl-s1">edges</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">Canny</span>(<span class="pl-s1">img</span>,<span class="pl-c1">100</span>,<span class="pl-c1">200</span>)

<span class="pl-c"># Face Detection using Haar Cascades</span>
<span class="pl-c"># Download Haar Cascades from https://github.com/opencv/opencv/blob/master/data/haarcascades/</span>
<span class="pl-k">import</span> <span class="pl-s1">cv2</span>
<span class="pl-k">import</span> <span class="pl-s1">numpy</span> <span class="pl-k">as</span> <span class="pl-s1">np</span>
<span class="pl-s1">face_cascade</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">CascadeClassifier</span>(<span class="pl-s">'haarcascade_frontalface_default.xml'</span>)
<span class="pl-s1">eye_cascade</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-v">CascadeClassifier</span>(<span class="pl-s">'haarcascade_eye.xml'</span>)

<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">imread</span>(<span class="pl-s">'human.jpg'</span>)
<span class="pl-s1">gray</span> <span class="pl-c1">=</span> <span class="pl-s1">cv2</span>.<span class="pl-en">cvtColor</span>(<span class="pl-s1">img</span>, <span class="pl-s1">cv2</span>.<span class="pl-v">COLOR_BGR2GRAY</span>)

<span class="pl-s1">aces</span> <span class="pl-c1">=</span> <span class="pl-s1">face_cascade</span>.<span class="pl-en">detectMultiScale</span>(<span class="pl-s1">gray</span>, <span class="pl-c1">1.3</span>, <span class="pl-c1">5</span>)
<span class="pl-k">for</span> (<span class="pl-s1">x</span>,<span class="pl-s1">y</span>,<span class="pl-s1">w</span>,<span class="pl-s1">h</span>) <span class="pl-c1">in</span> <span class="pl-s1">faces</span>:
    <span class="pl-s1">cv2</span>.<span class="pl-en">rectangle</span>(<span class="pl-s1">img</span>,(<span class="pl-s1">x</span>,<span class="pl-s1">y</span>),(<span class="pl-s1">x</span><span class="pl-c1">+</span><span class="pl-s1">w</span>,<span class="pl-s1">y</span><span class="pl-c1">+</span><span class="pl-s1">h</span>),(<span class="pl-c1">255</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>),<span class="pl-c1">2</span>)
    <span class="pl-s1">roi_gray</span> <span class="pl-c1">=</span> <span class="pl-s1">gray</span>[<span class="pl-s1">y</span>:<span class="pl-s1">y</span><span class="pl-c1">+</span><span class="pl-s1">h</span>, <span class="pl-s1">x</span>:<span class="pl-s1">x</span><span class="pl-c1">+</span><span class="pl-s1">w</span>]
    <span class="pl-s1">roi_color</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span>[<span class="pl-s1">y</span>:<span class="pl-s1">y</span><span class="pl-c1">+</span><span class="pl-s1">h</span>, <span class="pl-s1">x</span>:<span class="pl-s1">x</span><span class="pl-c1">+</span><span class="pl-s1">w</span>]
    <span class="pl-s1">eyes</span> <span class="pl-c1">=</span> <span class="pl-s1">eye_cascade</span>.<span class="pl-en">detectMultiScale</span>(<span class="pl-s1">roi_gray</span>)
    <span class="pl-k">for</span> (<span class="pl-s1">ex</span>,<span class="pl-s1">ey</span>,<span class="pl-s1">ew</span>,<span class="pl-s1">eh</span>) <span class="pl-c1">in</span> <span class="pl-s1">eyes</span>:
        <span class="pl-s1">cv2</span>.<span class="pl-en">rectangle</span>(<span class="pl-s1">roi_color</span>,(<span class="pl-s1">ex</span>,<span class="pl-s1">ey</span>),(<span class="pl-s1">ex</span><span class="pl-c1">+</span><span class="pl-s1">ew</span>,<span class="pl-s1">ey</span><span class="pl-c1">+</span><span class="pl-s1">eh</span>),(<span class="pl-c1">0</span>,<span class="pl-c1">255</span>,<span class="pl-c1">0</span>),<span class="pl-c1">2</span>)

<span class="pl-s1">cv2</span>.<span class="pl-en">imshow</span>(<span class="pl-s">'img'</span>,<span class="pl-s1">img</span>)
<span class="pl-s1">cv2</span>.<span class="pl-en">waitKey</span>(<span class="pl-c1">0</span>)

<span class="pl-s1">cv2</span>.<span class="pl-en">destroyAllWindows</span>()
<span class="pl-c"># destroyAllWindows() destroys all windows. </span>
<span class="pl-c"># If you wish to destroy specific window pass the exact name of window you created.</span></pre></div>
<h3>Further Reading:</h3>
<ul>
<li>Download Cascade from <a href="https://github.com/opencv/opencv/blob/master/data/haarcascades">https://github.com/opencv/opencv/blob/master/data/haarcascades</a></li>
<li>OpenCV drawing Functions <a href="https://docs.opencv.org/2.4/modules/core/doc/drawing_functions.html" rel="nofollow">https://docs.opencv.org/2.4/modules/core/doc/drawing_functions.html</a></li>
<li>An up-to-date language reference can be found at <a href="https://opencv.org" rel="nofollow">https://opencv.org</a></li>
<li>Additional resources may be found at <a href="https://en.wikipedia.org/wiki/OpenCV" rel="nofollow">https://en.wikipedia.org/wiki/OpenCV</a></li>
<li>Good OpenCv Tutorials
<ul>
<li><a href="https://realpython.com/python-opencv-color-spaces" rel="nofollow">https://realpython.com/python-opencv-color-spaces</a></li>
<li><a href="https://pyimagesearch.com" rel="nofollow">https://pyimagesearch.com</a></li>
<li><a href="https://www.learnopencv.com" rel="nofollow">https://www.learnopencv.com</a></li>
</ul>
</li>
</ul>
<hr>
<h2>Contributors</h2>
<pre class="notranslate"><code class="notranslate">- ["Yogesh Ojha", "http://github.com/yogeshojha"]
</code></pre>