<h1>Mercurial</h1>
<p>Mercurial is a free, distributed source control management tool. It offers<br>
you the power to efficiently handle projects of any size while using an<br>
intuitive interface. It is easy to use and hard to break, making it ideal for<br>
anyone working with versioned files.</p>
<h2>Versioning Concepts</h2>
<h3>What is version control?</h3>
<p>Version control is a system that keeps track fo changes to a set of file(s)<br>
and/or directorie(s) over time.</p>
<h3>Why use Mercurial?</h3>
<ul>
<li>Distributed Architecture - Traditionally version control systems such as CVS<br>
and Subversion are a client server architecture with a central server to<br>
store the revision history of a project. Mercurial however is a truly<br>
distributed architecture, giving each developer a full local copy of the<br>
entire development history. It works independently of a central server.</li>
<li>Fast - Traditionally version control systems such as CVS and Subversion are a<br>
client server architecture with a central server to store the revision history<br>
of a project. Mercurial however is a truly distributed architecture, giving<br>
each developer a full local copy of the entire development history. It works<br>
independently of a central server.</li>
<li>Platform Independent - Mercurial was written to be highly platform<br>
independent. Much of Mercurial is written in Python, with small performance<br>
critical parts written in portable C. Binary releases are available for all<br>
major platforms.</li>
<li>Extensible - The functionality of Mercurial can be increased with extensions,<br>
either by activating the official ones which are shipped with Mercurial or<br>
downloading some <a href="https://www.mercurial-scm.org/wiki/UsingExtensions" rel="nofollow">from the wiki</a> or by <a href="https://www.mercurial-scm.org/wiki/WritingExtensions" rel="nofollow">writing your own</a>. Extensions are written in<br>
Python and can change the workings of the basic commands, add new commands and<br>
access all the core functions of Mercurial.</li>
<li>Easy to use - The Mercurial command set is consistent with what subversion<br>
users would expect, so they are likely to feel right at home. Most dangerous<br>
actions are part of extensions that need to be enabled to be used.</li>
<li>Open Source - Mercurial is free software licensed under the terms of the <a href="http://www.gnu.org/licenses/gpl-2.0.txt" rel="nofollow">GNU<br>
General Public License Version 2</a> or<br>
any later version.</li>
</ul>
<h2>Terminology</h2>
<table role="table">
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Repository</td>
<td>A repository is a collection of revisions</td>
</tr>
<tr>
<td>hgrc</td>
<td>A configuration file which stores the defaults for a repository.</td>
</tr>
<tr>
<td>revision</td>
<td>A committed changeset: has a REV number</td>
</tr>
<tr>
<td>changeset</td>
<td>Set of changes saved as diffs</td>
</tr>
<tr>
<td>diff</td>
<td>Changes between file(s)</td>
</tr>
<tr>
<td>tag</td>
<td>A named named revision</td>
</tr>
<tr>
<td>parent(s)</td>
<td>Immediate ancestor(s) of a revision</td>
</tr>
<tr>
<td>branch</td>
<td>A child of a revision</td>
</tr>
<tr>
<td>head</td>
<td>A head is a changeset with no child changesets</td>
</tr>
<tr>
<td>merge</td>
<td>The process of merging two HEADS</td>
</tr>
<tr>
<td>tip</td>
<td>The latest revision in any branch</td>
</tr>
<tr>
<td>patch</td>
<td>All of the diffs between two revisions</td>
</tr>
<tr>
<td>bundle</td>
<td>Patch with permisÂ­sions and rename support</td>
</tr>
</tbody>
</table>
<h2>Commands</h2>
<h3>init</h3>
<p>Create a new repository in the given directory, the settings and stored<br>
information are in a directory named <code class="notranslate">.hg</code>.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">$ hg init</pre></div>
<h3>help</h3>
<p>Will give you access to a very detailed description of each command.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Quickly check what commands are available</span>
$ hg <span class="pl-c1">help</span>

<span class="pl-c"><span class="pl-c">#</span> Get help on a specific command</span>
<span class="pl-c"><span class="pl-c">#</span> hg help &lt;command&gt;</span>
$ hg <span class="pl-c1">help</span> add
$ hg <span class="pl-c1">help</span> commit
$ hg <span class="pl-c1">help</span> init</pre></div>
<h3>status</h3>
<p>Show the differences between what is on disk and what is committed to the current<br>
branch or tag.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Will display the status of files</span>
$ hg status

<span class="pl-c"><span class="pl-c">#</span> Get help on the status subcommand</span>
$ hg <span class="pl-c1">help</span> status</pre></div>
<h3>add</h3>
<p>Will add the specified files to the repository on the next commit.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Add a file in the current directory</span>
$ hg add filename.rb

<span class="pl-c"><span class="pl-c">#</span> Add a file in a sub directory</span>
$ hg add foo/bar/filename.rb

<span class="pl-c"><span class="pl-c">#</span> Add files by pattern</span>
$ hg add <span class="pl-k">*</span>.rb</pre></div>
<h3>branch</h3>
<p>Set or show the current branch name.</p>
<p><em>Branch names are permanent and global. Use 'hg bookmark' to create a<br>
light-weight bookmark instead. See 'hg help glossary' for more information<br>
about named branches and bookmarks.</em></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> With no argument it shows the current branch name</span>
$ hg branch

<span class="pl-c"><span class="pl-c">#</span> With a name argument it will change the current branch.</span>
$ hg branch new_branch
marked working directory as branch new_branch
(branches are permanent and global, did you want a bookmark<span class="pl-k">?</span>)</pre></div>
<h3>tag</h3>
<p>Add one or more tags for the current or given revision.</p>
<p>Tags are used to name particular revisions of the repository and are very<br>
useful to compare different revisions, to go back to significant earlier<br>
versions or to mark branch points as releases, etc. Changing an existing tag<br>
is normally disallowed; use -f/--force to override.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> List tags</span>
$ hg tags
tip                                2:efc8222cd1fb
v1.0                               0:37e9b57123b3

<span class="pl-c"><span class="pl-c">#</span> Create a new tag on the current revision</span>
$ hg tag v1.1

<span class="pl-c"><span class="pl-c">#</span> Create a tag on a specific revision</span>
$ hg tag -r efc8222cd1fb v1.1.1</pre></div>
<h3>clone</h3>
<p>Create a copy of an existing repository in a new directory.</p>
<p>If no destination directory name is specified, it defaults to the basename of<br>
the source.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Clone a remote repo to a local directory</span>
$ hg clone https://some-mercurial-server.example.com/reponame

<span class="pl-c"><span class="pl-c">#</span> Clone a local repo to a remote server</span>
$ hg clone <span class="pl-c1">.</span> ssh://username@some-mercurial-server.example.com/newrepo

<span class="pl-c"><span class="pl-c">#</span> Clone a local repo to a local repo</span>
$ hg clone <span class="pl-c1">.</span> /tmp/some_backup_dir</pre></div>
<h3>commit / ci</h3>
<p>Commit changes to the given files into the repository.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Commit with a message</span>
$ hg commit -m <span class="pl-s"><span class="pl-pds">'</span>This is a commit message<span class="pl-pds">'</span></span>

<span class="pl-c"><span class="pl-c">#</span> Commit all added / removed files in the current tree</span>
$ hg commit -A <span class="pl-s"><span class="pl-pds">'</span>Adding and removing all existing files in the tree<span class="pl-pds">'</span></span>

<span class="pl-c"><span class="pl-c">#</span> amend the parent of the working directory with a new commit that contains the</span>
<span class="pl-c"><span class="pl-c">#</span> changes in the parent in addition to those currently reported by 'hg status',</span>
$ hg commit --amend -m <span class="pl-s"><span class="pl-pds">"</span>Correct message<span class="pl-pds">"</span></span></pre></div>
<h3>diff</h3>
<p>Show differences between revisions for the specified files using the unified<br>
diff format.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Show the diff between the current directory and a previous revision</span>
$ hg diff -r 10

<span class="pl-c"><span class="pl-c">#</span> Show the diff between two previous revisions</span>
$ hg diff -r 30 -r 20</pre></div>
<h3>grep</h3>
<p>Search revision history for a pattern in specified files.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Search files for a specific phrase</span>
$ hg grep <span class="pl-s"><span class="pl-pds">"</span>TODO:<span class="pl-pds">"</span></span></pre></div>
<h3>log / history</h3>
<p>Show revision history of entire repository or files. If no revision range is<br>
specified, the default is "tip:0" unless --follow is set, in which case the<br>
working directory parent is used as the starting revision.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Show the history of the entire repository</span>
$ hg log

<span class="pl-c"><span class="pl-c">#</span> Show the history of a single file</span>
$ hg log myfile.rb

<span class="pl-c"><span class="pl-c">#</span> Show the revision changes as an ASCII art DAG with the most recent changeset</span>
<span class="pl-c"><span class="pl-c">#</span> at the top.</span>
$ hg log -G</pre></div>
<h3>merge</h3>
<p>Merge another revision into working directory.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Merge changesets to local repository</span>
$ hg merge

<span class="pl-c"><span class="pl-c">#</span> Merge from a named branch or revision into the current local branch</span>
$ hg merge branchname_or_revision

<span class="pl-c"><span class="pl-c">#</span> After successful merge, commit the changes</span>
hg commit</pre></div>
<h3>move / mv / rename</h3>
<p>Rename files; equivalent of copy + remove. Mark dest as copies of sources;<br>
mark sources for deletion. If dest is a directory, copies are put in that<br>
directory. If dest is a file, there can only be one source.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Rename a single file</span>
$ hg mv foo.txt bar.txt

<span class="pl-c"><span class="pl-c">#</span> Rename a directory</span>
$ hg mv some_directory new_directory</pre></div>
<h3>pull</h3>
<p>Pull changes from a remote repository to a local one.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> List remote paths</span>
$ hg paths
remote1 = http://path/to/remote1
remote2 = http://path/to/remote2

<span class="pl-c"><span class="pl-c">#</span> Pull from remote 1</span>
$ hg pull remote1

<span class="pl-c"><span class="pl-c">#</span> Pull from remote 2</span>
$ hg pull remote2</pre></div>
<h3>push</h3>
<p>Push changesets from the local repository to the specified destination.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> List remote paths</span>
$ hg paths
remote1 = http://path/to/remote1
remote2 = http://path/to/remote2

<span class="pl-c"><span class="pl-c">#</span> Pull from remote 1</span>
$ hg push remote1

<span class="pl-c"><span class="pl-c">#</span> Pull from remote 2</span>
$ hg push remote2</pre></div>
<h3>rebase</h3>
<p>Move changeset (and descendants) to a different branch.</p>
<p>Rebase uses repeated merging to graft changesets from one part of history<br>
(the source) onto another (the destination). This can be useful for<br>
linearizing <em>local</em> changes relative to a master development tree.</p>
<ul>
<li>Draft the commits back to the source revision.</li>
<li>-s is the source, ie. what you are rebasing.</li>
<li>-d is the destination, which is where you are sending it.</li>
</ul>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Put the commits into draft status</span>
<span class="pl-c"><span class="pl-c">#</span> This will draft all subsequent commits on the relevant branch</span>
$ hg phase --draft --force -r 1206

<span class="pl-c"><span class="pl-c">#</span> Rebase from from revision 102 over revision 208</span>
$ hg rebase -s 102 -d 208</pre></div>
<h3>revert</h3>
<p>Restore files to their checkout state. With no revision specified, revert the<br>
specified files or directories to the contents they had in the parent of the<br>
working directory. This restores the contents of files to an unmodified state<br>
and unschedules adds, removes, copies, and renames. If the working directory<br>
has two parents, you must explicitly specify a revision.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Reset a specific file to its checked out state</span>
$ hg revert oops_i_did_it_again.txt

<span class="pl-c"><span class="pl-c">#</span> Revert a specific file to its checked out state without leaving a .orig file</span>
<span class="pl-c"><span class="pl-c">#</span> around</span>
$ hg revert -C oops_i_did_it_again.txt

<span class="pl-c"><span class="pl-c">#</span> Revert all changes</span>
$ hg revert -a</pre></div>
<h3>rm / remove</h3>
<p>Remove the specified files on the next commit.</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> Remove a specific file</span>
$ hg remove go_away.txt

<span class="pl-c"><span class="pl-c">#</span> Remove a group of files by pattern</span>
$ hg remove <span class="pl-k">*</span>.txt</pre></div>
<h2>Further information</h2>
<ul>
<li><a href="https://www.mercurial-scm.org/guide" rel="nofollow">Learning Mercurial in Workflows</a></li>
<li><a href="https://www.mercurial-scm.org/wiki/QuickStart" rel="nofollow">Mercurial Quick Start</a></li>
<li><a href="http://hgbook.red-bean.com/" rel="nofollow">Mercurial: The Definitive Guide by Bryan O'Sullivan</a></li>
</ul>
<hr>
<h2>Contributors</h2>
<ul>
<li>["Will L. Fife", "http://github.com/sarlalian"]</li>
</ul>